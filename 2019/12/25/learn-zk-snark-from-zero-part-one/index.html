<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>从零开始学习 zk-SNARK（一）——多项式的性质与证明 - SECBIT Blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Maksym Petkus，翻译 & 注解：even@安比实验室（even@secbit.io）" />
  <meta name="description" content="当我第一次了解到 zk-SNARK 技术是如何将这些东西完美地融合在一起的时候，就被数学之美震撼到了，并且随着我发现的维度越多，好奇心就越强烈。在这篇文章中，我主要就基于一些实例简洁明了地阐明 zk-SNARK ，并对这里面的很多问题做出了解释，并利用这种方式分享了我的经验，进而让更多人也能够欣赏到这项最先进的技术以及它的创新之处，最终欣赏到数学之美。" />

  <meta name="keywords" content="Blockchain, Smart Contract, Zero Knowledge Proof" />






<meta name="generator" content="Hugo 0.62.0" />


<link rel="canonical" href="https://sec-bit.github.io/blog/2019/12/25/learn-zk-snark-from-zero-part-one/" />





<link rel="icon" href="/blog/favicon.ico" />











<link rel="stylesheet" href="/blog/sass/jane.min.0995afa14b62cd93e93cfc066b646c4c17a3eddca0e9d52a1d9dcf5d90aaacd3.css" integrity="sha256-CZWvoUtizZPpPPwGa2RsTBej7dyg6dUqHZ3PXZCqrNM=" media="screen" crossorigin="anonymous">




<link rel="stylesheet" href="/blog/css/custom.css">


<meta property="og:title" content="从零开始学习 zk-SNARK（一）——多项式的性质与证明" />
<meta property="og:description" content="当我第一次了解到 zk-SNARK 技术是如何将这些东西完美地融合在一起的时候，就被数学之美震撼到了，并且随着我发现的维度越多，好奇心就越强烈。在这篇文章中，我主要就基于一些实例简洁明了地阐明 zk-SNARK ，并对这里面的很多问题做出了解释，并利用这种方式分享了我的经验，进而让更多人也能够欣赏到这项最先进的技术以及它的创新之处，最终欣赏到数学之美。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sec-bit.github.io/blog/2019/12/25/learn-zk-snark-from-zero-part-one/" />
<meta property="article:published_time" content="2019-12-25T08:00:00+08:00" />
<meta property="article:modified_time" content="2020-06-06T13:56:17+08:00" /><meta property="og:site_name" content="SECBIT Blog" />
<meta itemprop="name" content="从零开始学习 zk-SNARK（一）——多项式的性质与证明">
<meta itemprop="description" content="当我第一次了解到 zk-SNARK 技术是如何将这些东西完美地融合在一起的时候，就被数学之美震撼到了，并且随着我发现的维度越多，好奇心就越强烈。在这篇文章中，我主要就基于一些实例简洁明了地阐明 zk-SNARK ，并对这里面的很多问题做出了解释，并利用这种方式分享了我的经验，进而让更多人也能够欣赏到这项最先进的技术以及它的创新之处，最终欣赏到数学之美。">
<meta itemprop="datePublished" content="2019-12-25T08:00:00&#43;08:00" />
<meta itemprop="dateModified" content="2020-06-06T13:56:17&#43;08:00" />
<meta itemprop="wordCount" content="8890">



<meta itemprop="keywords" content="Zero Knowledge Proof,tutorials,zkSNARKs," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="从零开始学习 zk-SNARK（一）——多项式的性质与证明"/>
<meta name="twitter:description" content="当我第一次了解到 zk-SNARK 技术是如何将这些东西完美地融合在一起的时候，就被数学之美震撼到了，并且随着我发现的维度越多，好奇心就越强烈。在这篇文章中，我主要就基于一些实例简洁明了地阐明 zk-SNARK ，并对这里面的很多问题做出了解释，并利用这种方式分享了我的经验，进而让更多人也能够欣赏到这项最先进的技术以及它的创新之处，最终欣赏到数学之美。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-149859278-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body,
            {
                delimiters: [
                    { left: "$$", right: "$$", display: true },
                    { left: "$", right: "$", display: false },
                ]
            }
        );
    });
</script>

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/blog/" class="logo">SECBIT Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/categories/">分类</a>
          
        
      </li>
    <li class="mobile-menu-item">
        
        <div class="mobile-menu-parent mobile-menu-item-lang">
          <span class="mobile-submenu-open"></span>
          <a href="#">
            
            <i class="iconfont">
              <svg height="16" width="16" version="1.1" viewBox="0 0 128 128">
  <path d="m 64.719501,1.4279814 c -34.694029,0 -62.8192028,28.1251726 -62.8192028,62.8192016 0,34.694036 28.1251738,62.819207 62.8192028,62.819207 4.245691,0 8.392744,-0.42239 12.402214,-1.2253 -1.616124,-0.77296 -1.792473,-6.57213 -0.194346,-9.87848 1.779059,-3.68082 7.361625,-13.00555 1.840404,-16.134231 -5.521221,-3.12869 -3.98755,-4.53968 -7.361625,-8.15914 -3.374083,-3.61947 -1.994181,-4.16357 -2.208492,-5.09179 -0.736158,-3.19004 3.251385,-7.975096 3.435429,-8.465866 0.184043,-0.490781 0.184043,-2.331182 0.122689,-2.883308 -0.06131,-0.552125 -2.515051,-2.024446 -3.12852,-2.085791 -0.613469,-0.06133 -0.920209,0.98154 -1.77906,1.042896 -0.858856,0.06133 -4.601018,-2.269838 -5.39853,-2.883308 -0.797504,-0.61346 -1.165591,-2.085792 -2.269828,-3.190033 -1.104247,-1.104252 -1.226945,-0.24539 -2.944651,-0.920206 -1.717714,-0.674812 -7.238935,-2.69926 -11.471867,-4.416975 -4.23294,-1.717714 -4.601019,-4.125615 -4.662365,-5.827954 -0.06131,-1.702333 -2.57657,-4.171587 -3.756227,-5.950646 -1.179335,-1.77906 -1.396914,-4.232932 -1.826339,-3.680809 -0.429425,0.552114 2.208484,6.993538 1.77906,7.177582 -0.429425,0.184043 -1.349635,-1.77906 -2.576572,-3.374083 -1.226936,-1.595016 1.28829,-0.736159 -2.637915,-8.465864 -3.926198,-7.729705 1.226944,-11.671284 1.472324,-15.704806 0.24539,-4.033514 3.312738,1.472325 1.717715,-1.104238 -1.595016,-2.576571 0.122697,-7.975094 -1.104246,-9.938197 -1.226936,-1.963102 -8.220475,2.208492 -8.220475,2.208492 0.184036,-1.901758 6.134682,-5.153142 10.428966,-8.1591366 4.294277,-3.005996 6.91682,-0.674813 10.367621,0.4294236 3.450803,1.104246 3.680817,0.736167 2.515226,-0.368079 -1.165591,-1.1042446 0.49077,-1.6563686 3.190031,-1.2269356 2.699269,0.429425 3.435428,3.6808086 7.545669,3.3740746 4.110242,-0.306735 0.429425,0.797511 0.981548,1.840412 0.552123,1.042892 -0.613468,0.920202 -3.312729,2.760607 -2.699262,1.840403 0.06131,1.840403 4.846407,5.337177 4.785055,3.496773 3.312729,-2.331183 2.821952,-4.907753 -0.490777,-2.576563 3.496773,-0.552115 3.496773,-0.552115 2.944651,1.963094 2.400546,0.107972 4.547684,0.782784 2.147139,0.674814 7.967076,5.597286 7.967076,5.597286 -7.300273,3.98755 -2.699261,4.416975 -1.472325,5.337178 1.226937,0.920202 -2.515218,2.699261 -2.515218,2.699261 -1.53367,-1.53367 -1.779059,0.06131 -2.760614,0.613476 -0.981548,0.552115 -0.06131,1.963095 -0.06131,1.963095 -5.076415,0.797512 -3.926198,6.13469 -3.864852,7.422971 0.06131,1.288289 -3.251385,3.251384 -4.110242,5.091796 -0.858857,1.840405 2.208491,5.827948 0.613468,6.073336 -1.595016,0.24539 -3.190031,-6.011991 -11.778601,-3.680808 -2.589322,0.702954 -8.343174,3.680808 -5.275824,9.754153 3.06734,6.073336 8.15913,-1.717714 9.876843,-0.858857 1.717714,0.858857 -0.490778,4.72371 -0.122691,4.785055 0.368079,0.06131 4.8464,0.168662 5.09179,5.398522 0.245388,5.229868 6.809502,4.785065 8.220482,4.907755 1.410972,0.12269 6.134682,-3.864859 6.809502,-4.048894 0.674815,-0.184034 3.374076,-2.453876 9.263377,0.920195 5.889301,3.374089 8.895296,2.883308 10.919743,4.294285 2.02445,1.410987 0.61347,4.232939 2.51523,5.153134 1.90175,0.920217 9.50876,-0.306736 11.41051,2.821966 1.90176,3.1287 -7.8524,18.833491 -10.91974,20.551201 -3.06734,1.71772 -4.478321,5.64392 -7.545665,8.15913 -3.067349,2.51523 -7.361625,5.62854 -11.410522,8.03646 -3.583968,2.1311 -4.228845,5.949 -5.825333,7.15419 28.11404,-6.24545 49.13623,-31.328971 49.13623,-61.323497 0,-34.694029 -28.125171,-62.8192016 -62.819206,-62.8192016 z M 79.442753,60.382331 c -0.858857,0.245389 -2.637917,1.840405 -6.993547,-0.736166 -4.35563,-2.576564 -7.361625,-2.085794 -7.729705,-2.515218 0,0 -0.368079,-1.0429 1.533671,-1.226937 3.905098,-0.378065 8.833951,3.619464 9.938196,3.680809 1.104246,0.06131 1.656361,-1.104245 3.619464,-0.471631 1.963103,0.631953 0.490777,1.023755 -0.368079,1.269143 z M 58.891546,7.6853614 c -0.427786,-0.311152 0.354344,-0.669418 0.82058,-1.288281 0.269103,-0.357613 0.0695,-0.951289 0.406356,-1.28829 0.92021,-0.920203 5.459876,-2.208485 4.572225,0.306734 -0.887321,2.515226 -5.12434,2.760614 -5.799161,2.269837 z m 10.98109,7.9750936 c -1.533672,-0.06131 -5.14381,-0.442837 -4.478321,-1.104246 2.591952,-2.576563 -0.981548,-3.312729 -3.190039,-3.496766 -2.208485,-0.184043 -3.128687,-1.4109786 -2.02444,-1.5336776 1.104237,-0.12269 5.521213,0.06139 6.257379,0.6748206 0.736158,0.613469 4.723709,2.208485 4.969099,3.374076 0.24538,1.16559 0,2.147138 -1.533678,2.085793 z M 83.184914,15.23103 c -1.226943,0.981547 -7.400887,-3.521968 -8.588569,-4.539674 -5.153134,-4.4169746 -7.913742,-2.9446486 -8.995903,-3.6808086 -1.082485,-0.736166 -0.696897,-1.717713 0.959464,-3.190039 1.656369,-1.472325 6.318732,0.490778 9.017994,0.797512 2.699262,0.306734 5.827955,2.392527 5.889301,4.871925 0.06131,2.4792256 2.944649,4.7595296 1.717713,5.7410846 z" />
</svg>

            </i>
            语言
          </a>
        </div>
        <ul class="mobile-submenu-list">
          
            <li>
              
                <a href="https://sec-bit.github.io/blog/en/">English</a>
              
            </li>
          
            <li>
              
                <a href="https://sec-bit.github.io/blog/"><strong>中文</strong></a>
              
            </li>
          
        </ul>
      </li>

    
      <li class="mobile-menu-item">
        <a id="openSearchMobile" class="mobile-menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/blog/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/blog/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  
    
<div class="modal-dialog">
    
    <div class="modal-content">
      <div id="closeSearch" title="Close" class="close">X</div>
      <div class="modal-header">
        <div class="modal-title">Search</div>
      </div>
      <div class="modal-body">
          <script>
            (function() {
              var cx = '013402755253274635861:4rj70y1whw3';
              var gcse = document.createElement('script');
              gcse.type = 'text/javascript';
              gcse.async = true;
              gcse.src = (document.location.protocol == 'https:' ? 'https:' :
                  'http:') +
                '//cse.google.com/cse.js?cx=' + cx;
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          <gcse:search></gcse:search>
      </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/blog/" class="logo">
    
      SECBIT Blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/categories/">分类</a>
          

        

      </li>
    

    
    <li class="menu-item">
        
        <a class="menu-item-link menu-parent menu-item-lang" href="#">
          
          <i class="iconfont">
            <svg height="16" width="16" version="1.1" viewBox="0 0 128 128">
  <path d="m 64.719501,1.4279814 c -34.694029,0 -62.8192028,28.1251726 -62.8192028,62.8192016 0,34.694036 28.1251738,62.819207 62.8192028,62.819207 4.245691,0 8.392744,-0.42239 12.402214,-1.2253 -1.616124,-0.77296 -1.792473,-6.57213 -0.194346,-9.87848 1.779059,-3.68082 7.361625,-13.00555 1.840404,-16.134231 -5.521221,-3.12869 -3.98755,-4.53968 -7.361625,-8.15914 -3.374083,-3.61947 -1.994181,-4.16357 -2.208492,-5.09179 -0.736158,-3.19004 3.251385,-7.975096 3.435429,-8.465866 0.184043,-0.490781 0.184043,-2.331182 0.122689,-2.883308 -0.06131,-0.552125 -2.515051,-2.024446 -3.12852,-2.085791 -0.613469,-0.06133 -0.920209,0.98154 -1.77906,1.042896 -0.858856,0.06133 -4.601018,-2.269838 -5.39853,-2.883308 -0.797504,-0.61346 -1.165591,-2.085792 -2.269828,-3.190033 -1.104247,-1.104252 -1.226945,-0.24539 -2.944651,-0.920206 -1.717714,-0.674812 -7.238935,-2.69926 -11.471867,-4.416975 -4.23294,-1.717714 -4.601019,-4.125615 -4.662365,-5.827954 -0.06131,-1.702333 -2.57657,-4.171587 -3.756227,-5.950646 -1.179335,-1.77906 -1.396914,-4.232932 -1.826339,-3.680809 -0.429425,0.552114 2.208484,6.993538 1.77906,7.177582 -0.429425,0.184043 -1.349635,-1.77906 -2.576572,-3.374083 -1.226936,-1.595016 1.28829,-0.736159 -2.637915,-8.465864 -3.926198,-7.729705 1.226944,-11.671284 1.472324,-15.704806 0.24539,-4.033514 3.312738,1.472325 1.717715,-1.104238 -1.595016,-2.576571 0.122697,-7.975094 -1.104246,-9.938197 -1.226936,-1.963102 -8.220475,2.208492 -8.220475,2.208492 0.184036,-1.901758 6.134682,-5.153142 10.428966,-8.1591366 4.294277,-3.005996 6.91682,-0.674813 10.367621,0.4294236 3.450803,1.104246 3.680817,0.736167 2.515226,-0.368079 -1.165591,-1.1042446 0.49077,-1.6563686 3.190031,-1.2269356 2.699269,0.429425 3.435428,3.6808086 7.545669,3.3740746 4.110242,-0.306735 0.429425,0.797511 0.981548,1.840412 0.552123,1.042892 -0.613468,0.920202 -3.312729,2.760607 -2.699262,1.840403 0.06131,1.840403 4.846407,5.337177 4.785055,3.496773 3.312729,-2.331183 2.821952,-4.907753 -0.490777,-2.576563 3.496773,-0.552115 3.496773,-0.552115 2.944651,1.963094 2.400546,0.107972 4.547684,0.782784 2.147139,0.674814 7.967076,5.597286 7.967076,5.597286 -7.300273,3.98755 -2.699261,4.416975 -1.472325,5.337178 1.226937,0.920202 -2.515218,2.699261 -2.515218,2.699261 -1.53367,-1.53367 -1.779059,0.06131 -2.760614,0.613476 -0.981548,0.552115 -0.06131,1.963095 -0.06131,1.963095 -5.076415,0.797512 -3.926198,6.13469 -3.864852,7.422971 0.06131,1.288289 -3.251385,3.251384 -4.110242,5.091796 -0.858857,1.840405 2.208491,5.827948 0.613468,6.073336 -1.595016,0.24539 -3.190031,-6.011991 -11.778601,-3.680808 -2.589322,0.702954 -8.343174,3.680808 -5.275824,9.754153 3.06734,6.073336 8.15913,-1.717714 9.876843,-0.858857 1.717714,0.858857 -0.490778,4.72371 -0.122691,4.785055 0.368079,0.06131 4.8464,0.168662 5.09179,5.398522 0.245388,5.229868 6.809502,4.785065 8.220482,4.907755 1.410972,0.12269 6.134682,-3.864859 6.809502,-4.048894 0.674815,-0.184034 3.374076,-2.453876 9.263377,0.920195 5.889301,3.374089 8.895296,2.883308 10.919743,4.294285 2.02445,1.410987 0.61347,4.232939 2.51523,5.153134 1.90175,0.920217 9.50876,-0.306736 11.41051,2.821966 1.90176,3.1287 -7.8524,18.833491 -10.91974,20.551201 -3.06734,1.71772 -4.478321,5.64392 -7.545665,8.15913 -3.067349,2.51523 -7.361625,5.62854 -11.410522,8.03646 -3.583968,2.1311 -4.228845,5.949 -5.825333,7.15419 28.11404,-6.24545 49.13623,-31.328971 49.13623,-61.323497 0,-34.694029 -28.125171,-62.8192016 -62.819206,-62.8192016 z M 79.442753,60.382331 c -0.858857,0.245389 -2.637917,1.840405 -6.993547,-0.736166 -4.35563,-2.576564 -7.361625,-2.085794 -7.729705,-2.515218 0,0 -0.368079,-1.0429 1.533671,-1.226937 3.905098,-0.378065 8.833951,3.619464 9.938196,3.680809 1.104246,0.06131 1.656361,-1.104245 3.619464,-0.471631 1.963103,0.631953 0.490777,1.023755 -0.368079,1.269143 z M 58.891546,7.6853614 c -0.427786,-0.311152 0.354344,-0.669418 0.82058,-1.288281 0.269103,-0.357613 0.0695,-0.951289 0.406356,-1.28829 0.92021,-0.920203 5.459876,-2.208485 4.572225,0.306734 -0.887321,2.515226 -5.12434,2.760614 -5.799161,2.269837 z m 10.98109,7.9750936 c -1.533672,-0.06131 -5.14381,-0.442837 -4.478321,-1.104246 2.591952,-2.576563 -0.981548,-3.312729 -3.190039,-3.496766 -2.208485,-0.184043 -3.128687,-1.4109786 -2.02444,-1.5336776 1.104237,-0.12269 5.521213,0.06139 6.257379,0.6748206 0.736158,0.613469 4.723709,2.208485 4.969099,3.374076 0.24538,1.16559 0,2.147138 -1.533678,2.085793 z M 83.184914,15.23103 c -1.226943,0.981547 -7.400887,-3.521968 -8.588569,-4.539674 -5.153134,-4.4169746 -7.913742,-2.9446486 -8.995903,-3.6808086 -1.082485,-0.736166 -0.696897,-1.717713 0.959464,-3.190039 1.656369,-1.472325 6.318732,0.490778 9.017994,0.797512 2.699262,0.306734 5.827955,2.392527 5.889301,4.871925 0.06131,2.4792256 2.944649,4.7595296 1.717713,5.7410846 z" />
</svg>

          </i>
          中文
        </a>
        <ul class="submenu">
          
            
              <li>
                <a href="https://sec-bit.github.io/blog/en/">English</a>
              </li>
            
          
            
          
        </ul>
      </li>
    

    
      <li class="menu-item">
        <a id="openSearch" class="menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">从零开始学习 zk-SNARK（一）——多项式的性质与证明</h1>
      
      <div class="post-meta">
        <time datetime="2019-12-25" class="post-time">
          2019-12-25
        </time>
        <div class="post-category">
            <a href="https://sec-bit.github.io/blog/categories/zero-knowledge-proof/"> Zero Knowledge Proof </a>
            <a href="https://sec-bit.github.io/blog/categories/zksnarks/"> zkSNARKs </a>
            
          </div>
        <span class="more-meta"> 约 8890 字 </span>
          <span class="more-meta"> 预计阅读 18 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#heading">序言和介绍</a></li>
    <li><a href="#heading-1">证明的媒介</a></li>
    <li><a href="#heading-2">证明多项式的知识</a></li>
    <li><a href="#heading-3">因式分解</a></li>
    <li><a href="#heading-4">模糊计算</a>
      <ul>
        <li><a href="#heading-5">同态加密</a></li>
        <li><a href="#heading-6">模运算</a></li>
        <li><a href="#heading-7">强同态加密</a></li>
        <li><a href="#heading-8">加密多项式</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <blockquote>
<p>@Maksym（作者）： 不管是原始的论文[Bit+11]; [Par+13] 还是原理讲解 [Rei16]; [But16]; [But17]; [Gab17]，其实市面上已经有大量关于 zk-SNARK 的学习资源了 。zk-SNARK 由大量的可变模块组成，所以对很多人来说它依然像一个黑盒子一样很难懂。这些资料对 zk-SNARK 中的一些技术难题部分做出了解释，但由于缺少了对应的其它环节的解释，大家还是很难通过这些资料了解到 zk-SNARK 的全貌。</p>
<p>当我第一次了解到 zk-SNARK 技术是如何将这些东西完美地融合在一起的时候，就被数学之美震撼到了，并且随着我发现的维度越多，好奇心就越强烈。在这篇文章中，我主要就基于一些实例简洁明了地阐明 zk-SNARK ，并对这里面的很多问题做出了解释，并利用这种方式分享了我的经验，进而让更多人也能够欣赏到这项最先进的技术以及它的创新之处，最终欣赏到数学之美。</p>
<p>这篇文章的主要贡献是比较简洁明了的解释了其中相当复杂的技术，这些简单的解释对于在不具备任何与之相关的先决知识，比如密码学和高等数学，的前提下理解 zk-SNARK 是很有必要的。文章中并不仅仅只解释 zk-SNARK 是如何工作的，还解释了为什么这样就可以工作，以及它是怎么来的。</p>
</blockquote>
<blockquote>
<p>even@安比实验室：17 年最早接触 zk-SNARK 开始，就断断续续得学习了一些 zk-SNARK 的知识，但对其原理始终存在诸多困惑，没有形成一个完整的认识。偶然一次机会，看到了 Maksym Petkus 的这篇文章。文章从最基本的多项式性质讲起，从一个简单易懂的证明协议开始，然后像堆积木一样在发现问题，修改问题中逐步去完善协议，直到最终构造出完整的 zk-SNARK 协议。另外作者这种从问题出发的讲解方式，让读者知其然，也知其所以然 。作为一枚毕业多年早把数学知识还给老师的程序媛，读到这篇文章如获至宝，这篇文章读下来的感受像找到了一个脚手架，将脑海里碎片化的知识逐渐拼凑完整。于是想把它翻译出来（已获得作者授权），一方面加深自己的学习，另一方面也将这份宝藏分享给小伙伴们。</p>
<p>文章翻译存在不足之处，欢迎纠正，补充，指导。</p>
</blockquote>
<p>作者：Maksym Petkus</p>
<p>翻译 &amp; 注解：even@安比实验室（even@secbit.io）</p>
<p>校对：valuka@安比实验室</p>
<p>本系列文章已获作者中文翻译授权。</p>
<h2 id="heading">序言和介绍</h2>
<p>尽管最初计划写短一些，但现在已经写了几十页了，不过这篇文章读起来几乎不需要什么预备知识，并且你也可以随意跳过熟悉的部分。如果你不熟悉文中使用的某些数学符号也不需要担心，文中将会对这些符号逐个进行介绍。</p>
<p><em>Zero-knowledge</em> <em>succinct non-interactive arguments of knowledge</em> (<em>zk-SNARK</em>) 确实是一种非常精妙的方法，它可以在不揭示任何信息的前提下证明某个论断为真。但首要问题是，它为什么有用？</p>
<p>其实零知识证明在无数的应用中都具备优势，包括：</p>
<p>1）证明关于隐私数据的声明：</p>
<ul>
<li>
<p>一个人 <em>A</em> 的银行账户金额多于 X</p>
</li>
<li>
<p>去年，一家银行未与实体 Y 进行交易</p>
</li>
<li>
<p>在不暴露全部 DNA 数据的前提下匹配 DNA</p>
</li>
<li>
<p>一个人的信用评分高于 Z</p>
<p>2）匿名认证：</p>
</li>
<li>
<p>在不揭露身份的情况下（比如登录密码），证明请求者 R 有权访问网站的受限区域</p>
</li>
<li>
<p>证明一个人来自一组被允许的国家/地区列表中的某个国家/地区，但不暴露具体是哪个</p>
</li>
<li>
<p>证明一个人持有地铁月票，而不透露卡号</p>
</li>
</ul>
<p>3）匿名支付：</p>
<ul>
<li>付款完全脱离任何一种身份</li>
<li>纳税而不透露收入</li>
</ul>
<p>4）外包计算</p>
<ul>
<li>将昂贵的计算外包，并在不重新执行的情况下验证结果是否正确；它打开了一种零信任计算的类别</li>
<li>改进区块链模型，从所有节点做同样的计算，到只需一方计算然后其它节点进行验证</li>
</ul>
<p>和「零知识证明」这个伟大的名词一样，其背后的方法可以说是数学和密码学的奇迹。自1985 年，零知识证明这个概念在 “交互式证明系统的知识复杂性”[GMR85]一文中被引入，还有随后的非交互式零知识证明[[BFM88]以来（在区块链环境中尤其重要），至今已经进入到第四个十年的研究。</p>
<p>在任意的「零知识证明」系统中，都有一个 <em>prover</em> 在不泄漏任何额外信息的前提下要让 <em>verifier</em> 确信某些陈述（Statement）是正确的。例如 <em>verifier</em> 仅能知道 <em>prover</em> 的银行账户金额超过 <em>X</em>（也就是不披露实际金额）。协议应当满足下面三个性质：</p>
<ul>
<li>完整性 —— 只要「陈述」是正确的，<em>prover</em> 就可以让 <em>verifier</em> 确信</li>
<li>可靠性 —— 如果「陈述」是错误的，那么作弊的 <em>prover</em> 就没有办法让 <em>verifier</em> 相信</li>
<li>零知识 —— 协议的交互仅仅揭露「陈述」是否正确而不泄漏任何其它的信息</li>
</ul>
<p>zk-SNARK 这个术语本身是在 [Bit+11] 中引入的，它在[Gro10]的基础上，又遵循了匹诺曹协议[Gen+12; Par+13] 使其能够适用于通用的计算。</p>
<h2 id="heading-1">证明的媒介</h2>
<p>这里我们先不要去管零知识，非交互性，其形式和适用性这些概念，就从尝试证明一些简单的东西开始。</p>
<p>想象一下我们有一个长度为10 的位数组，现在要向 verifier（例如，程序）证明这样一个陈述：所有的位都被设置成了 1。</p>
<p><img src="img/1_qYcj1rieth4Rkaphwx3tGw.png" alt=""></p>
<p>verifier 一次只能检查（即，读）一位。为了验证这个陈述，我们以某种任意的顺序读取元素并检查其是否确实等于 1 。如果第一次抽样检查的结果是 1，就设置「陈述」的可信度为 ⅒= 10％，否则，如果等于 0，就说明「陈述」是错误的。验证者继续进行下一轮验证，直到获得足够的可信度为止。假如在一些场景下要信任 prover 需要至少 50% 的可信度，那就意味着必须执行 5 次校验。但假如在其它一些场景下需要 95% 的可信度，就需要检查所有的元素。很明显这个证明协议的缺点是必须要根据元素的数量进行检查，如果我们处理数百万个元素的数组，这么做是不现实的。</p>
<p>现在我们来看一下由数学方程式表示的多项式，它可以被画成坐标系上的一条曲线：</p>
<p><img src="img/1_-icO0q-Mu7AcFFMmCoOvfQ.png" alt=""></p>
<p>上面的曲线对应多项式: <em>f(x) = x³ – 6x² +11x– 6</em>。多项式的阶数取决于 <em>x</em> 的最大指数，当前多项式的阶数是 3。</p>
<p>多项式有一个非常好的特性，就是如果我们有两个阶为 d 的不相等多项式，他们相交的点数不会超过 d。例如，稍微修改一下原来的多项式为 <em>x³ – 6x² + 10x– 5</em> （注：请注意这里只修改了多项式的最后一个系数，6改成了5）并在图上用绿色标出：</p>
<p><img src="img/1_7JGXnnMDoEr4Rbn7-WOSQw.png" alt=""></p>
<p>这一点微小的修改就产生了变化很大的曲线。事实上，我们不可能找到两条不同的曲线，他们会在某段区域内重合（他们只会相交于一些点）。</p>
<p>这是从找多项式共同点方法中得出的性质。如果要查找两个多项式的交点，就要先令它们相等。例如，要找到多项式与 <em>x</em> 轴的交点（即 <em>f(x) = 0</em>），我们就要令 <em>x³ – 6x² + 11x – 6 = 0</em>，等式的解就是共同点：<em>x= 1</em> ，<em>x= 2</em> 和 <em>x= 3</em>。在上面图中也可以很清晰得看出这些解，也就是图上蓝色曲线和 <em>x</em> 轴相交的地方。</p>
<p>同样，我们也可以令上文中原始的多项式和修改后的多项式相等，找到它们的交点。</p>
<p><em>x³ – 6x² + 11x – 6 =x³ – 6x² + 10x – 5</em></p>
<p><em>x-1=0</em></p>
<p>多项式化简后的结果阶数为 1，它有一个很明显的解 <em>x</em> = 1。因而这两个多项式有一个交点。</p>
<p><img src="img/1_5tGItKaiCxwLAjYJaBRffg.png" alt=""></p>
<p>任意一个由阶数为 <em>d</em> 的多项式组成的等式，最后都会被化简为另外一个阶数至多为 <em>d</em> 的多项式，这是因为等式中没有能够用来构造更高阶数的乘法。例如：<em>5x³ + 7x² – x + 2 = 3x³ – x² + 2x– 5</em>，简化为 <em>2x³ + 8x² – 3x + 7 = 0</em>。另外代数的基本原理也告诉我们，对于一个阶数为 <em>d</em> 的多项式至多有 <em>d</em> 个解（以下部分将对此进行详细介绍），因而也就至多有<em>d</em> 个共同点。</p>
<p>所以我们可以得出结论，任何多项式在任意点的计算结果（更多关于多项式求值参考：[Pik13]）都可以看做是其唯一身份的表示。我们来计算一下当 <em>x</em> = 10 时，示例多项式的结果。</p>
<p><em>x³ – 6x² +11x - 6 = 504</em></p>
<p><em>x³ – 6x² +10x - 5 = 495</em></p>
<p>事实上，在 <em>x</em> 可以选择的所有值中，至多只有三个值能够使这些多项式相等，其它的值都是不相等的。</p>
<p>这也是为什么如果一个 prover 声称他知道一些 verifier 也知道的多项式（无论多项式的阶数有多大）时，他们就可以按照一个简单的协议去验证：</p>
<ul>
<li>verifier 选择一个随机值 x 并在本地计算多项式结果</li>
<li>verifier 将 x 值给到 prover，并让他计算相关的多项式结果</li>
<li>prover 代入 x 到多项式计算并将结果给到 verifier</li>
<li>verifier 检查本地的计算结果和 prover 的计算结果是否相等，如果相等那就说明 prover 的陈述具有较高的可信度</li>
</ul>
<p>例如，我们把 x 的取值范围定在 1 到 10⁷⁷,  那么计算结果不同的点的数量，就有 <em>10⁷⁷ – d</em> 个。因而 <em>x</em> 偶然“撞到”这 d 个结果相同的点中任意一个的概率就等于（可以认为是几乎不可能）：$\frac{d}{10^{77}}$</p>
<blockquote>
<p>@Maksym（作者）：与低效的位检查协议相比，新的协议只需要一轮验证就可以让声明具有非常高的可信度（假设 <em>d</em> 远小于 <em>x</em> 取值范围的上限，就几乎是 100%了）</p>
</blockquote>
<p>这也是为什么即使可能存在其他的证明媒介，<strong>多项式依然是 zk-SNARK 相对核心的部分</strong>。</p>
<blockquote>
<p>even@安比实验室: 这一节告诉了我们多项式的一个重要性质：我们不可能找到共享连续段的两条不相等曲线，也就是任何多项式在任意点的计算结果都可以看做是其唯一身份的表示。也就是说只要能证明多项式上的某个随机点就可以证明这个多项式（只有在知道了多项式，才能算出这个点对于的值），这个性质是我们下面所有证明的核心。</p>
<p>这就是 Schwatz-Zippel 定理，它可以扩展到多变量多项式，即在一个多维空间内形成一个曲面。这个定理会在多个零知识证明方案的证明中反复出现。</p>
</blockquote>
<h2 id="heading-2">证明多项式的知识</h2>
<p>我们的讨论从证明多项式的知识开始，再将证明协议逐步转换成一种通用的方法，在这个过程中我们也将发现多项式的很多其它性质。</p>
<p>但是到目前为止，我们的协议还只是一个很弱的证明，因为协议中并没有采取任何措施去保证参与方必须按照协议的规则生成证明，所以参与方只能互相信任。例如，prover 并不需要知道多项式，也可能通过其它方式得到正确的答案。而且，如果 verifier 要验证的多项式的解的取值范围不够大，比如我们前文说的 10，那个就可以去猜一个数字，猜对答案的概率是不可忽略不计的。因而我们必须要解决协议中的这个缺陷，在解决问题之前首先来想一下，<strong>知道多项式意味着什么呢？</strong></p>
<p>多项式可以用下面的形式来表示（其中 <em>n</em> 指的是多项式的阶）：</p>
<p>$$
c_{n} x^{n}+\ldots \ldots+c_{1} x^{1}+c_{0} x^{0}
$$</p>
<p>如果一个人说他或她知道一个一阶多项式（即：$c_{1} x^{1} + c_{0} = 0$），那么这就意味着他或她确实*知道* 系数 $c_{0}$, $c_{1}$ 的值。这个系数可以是包括 0 在内的任意值。</p>
<p>假设证明者声称他知道一个包含 <em>x=1</em> 和 <em>x=2</em> 两个解的三阶多项式。满足此条件的一个有效的多项式就是 <em>x3 – 3x2+ 2x= 0</em>。因为<em>x= 1: 1 – 3 + 2 = 0</em>，<em>x= 2: 8 – 12 + 4 = 0</em>。</p>
<p>我们先来仔细得研究一下这个答案的结构。</p>
<blockquote>
<p>even@安比实验室: 这一节告诉了我们多项式的一个本质——多项式的「知识」就是多项式的系数。所谓「知道」多项式就是指「知道」多项式的系数。</p>
</blockquote>
<h2 id="heading-3">因式分解</h2>
<p>代数的基本定理表明了任意的一个多项式只要它有解，就可以将它分解成线性多项式（即，一个阶数为 1 的多项式代表一条线），因此，我们可以把任意有效的多项式看成是其因式的乘积：</p>
<p>$(x-a_0)(x-a_1)…(x-a_n) = 0$</p>
<p>也就是说如果任意一个因式为 0，那么整个等式都为 0，也就是说式子中所有的 $a_s$ 就是多项式的所有解。</p>
<p>$x^3 -3x^2 + 2x = (x-0)(x-1)(x-2)$</p>
<p>所以这个多项式的解（<em>x</em> 的值）就是：0，1，2，在任何形式下多项式的解都可以很轻松的被验证，只不过因式的形式可以让我们一眼就看出这些解（也称为根）。</p>
<p>我们再回到前面的问题， prover 宣称他知道一个阶数为 3，其中两个根分别为 1 和 2 的多项式，也就是说这个多项式的形式为：</p>
<p>$(x-1)(x-2) \cdot …$</p>
<p>换句话说 (<em>x</em>–<em>1</em>) 和 (<em>x</em> –<em>2</em>) 是问题中多项式的两个因式。因而如果 prover 想要在不揭示多项式的前提下证明他的多项式确实有这两个根，那么他就需要去证明他的多项式 <em>p(x)</em> 是 <em>t</em>(<em>x</em>) = (<em>x</em>- 1)(<em>x</em>- 2) （也称为目标多项式）和一些任意多项式 <em>h(x)</em> （也就是我们的例子里面的 <em>x - 0</em>）的乘积，即：</p>
<p><em>p(x) = t(x) · h(x)</em></p>
<p>换句话说，存在一些多项式 <em>h(x)</em> 能够使得 <em>t(x)</em> 与之相乘后等于 <em>p(x)</em>，由此得出， <em>p(x)</em> 中包含 <em>t</em>(<em>x</em>)，所以 <em>p(x)</em> 的根中也包含 <em>t</em>(<em>x</em>) 的所有根，这也就是我们要证明的东西。</p>
<p>自然算出 <em>h(x)</em> 的方式就是直接相除：</p>
<p>$h(x) = \frac{p(x)}{t(x)}$</p>
<p>如果一个 prover 不能找到这样一个 <em>h(x)</em> 也就意味着 <em>p(x)</em> 中不包含因式 <em>t</em>(<em>x</em>)，那么多项式相除就会有余数。例如我们用 <em>p(x) = x³ – 3x² + 2x</em> 除以 <em>t(x) = (x – 1)(x – 2) = x² – 3x+ 2</em></p>
<p><img src="img/1_iT3kRk3C-DJdvQgi1b2uOA.png" alt=""></p>
<p><em>注意：左边的式子是分母，右上角的是计算结果。底部是余数（多项式相除的解释及示例可以看这里 [Pik14] ）。</em></p>
<p>我们算出结果 <em>h(x) = x</em>，没有余数。</p>
<p><em>注意：为了简化起见，后面我们会用多项式的字母变量来代替计算结果值，例如：p = p(r)。</em></p>
<blockquote>
<p>even@安比实验室: 多项式可以被因式分解成它的根的因式的乘积。这个性质就意味着，如果一个多项式有某些解，那么它被因式分解后的式子中一定包含这些解的因式。</p>
<p>有了这个性质，我们就可以愉快地去做一些证明啦。</p>
</blockquote>
<p>利用<strong>多项式一致性检查协议</strong>我们就可以比较多项式 <em>p(x)</em> 和 <em>t(x) ⋅ h(x)</em>：</p>
<ul>
<li>verifier 挑选一个随机值 <em>r</em>, 计算 <em>t</em> = <em>t(r)</em> (即，求值) ，然后将 <em>r</em> 发送给 prover。</li>
<li>prover 计算 <em>h</em>(<em>x</em>) =<em>p</em>(<em>x</em>) / <em>t</em>(<em>x</em>) ，并对 <em>p(r)</em> 和 <em>h(r)</em> 进行求值，将计算结果 <em>p</em>, <em>h</em> 提供给 verifier。</li>
<li>verifier 验证 <em>p= t⋅h</em>，如果多项式相等，就意味着 <em>t(x)</em> 是 <em>p(x)</em> 的因式。</li>
</ul>
<p>实践一下，用下面的例子来执行这个协议：</p>
<ul>
<li>verifier 选一个随机数 23，并计算 <em>t</em> = <em>t</em>(23) = (23 – 1)(23 – 2) = 462，然后将 23 发给 prover</li>
<li>prover 计算 <em>h</em>(<em>x</em>) =<em>p</em>(<em>x</em>) / <em>t</em>(<em>x</em>) = <em>x</em>, 并对 <em>p(r)</em> 和 <em>h(r)</em> 进行求值，<em>p</em>= <em>p</em>(23) = 10626，<em>h</em>= <em>h</em>(23) = 23，将 <em>p</em> 和 <em>h</em> 提供给 verifier</li>
<li>verifier 再验证 <em>p= t⋅h</em>：10626 = 462 ⋅ 23 是正确的，这样陈述就被证明了。</li>
</ul>
<p>相反，如果 prover 使用一个不同的 <em>p</em>′(<em>x</em>) ，它并不包含必要的因式，例如 <em>p′(x) = 2x³ – 3x² + 2x</em>, 那么：</p>
<p><img src="img/1_heV9wqxECa2N4rG0OpvItQ.png" alt=""></p>
<blockquote>
<p>@Maksym（作者）：虽然为了简化而使用了一组数学符号，但是如果忽视这个无处不在的基本符号：’(上撇)的话将不利于理解。这个符号本质目的是为了强调一个经过初始变量变换或者推导得到的新变量。即，如果我们想要将 v 乘以 2 并给将它赋值给一个新的变量，我们可以使用：v'= <em>2</em> ⋅ v。</p>
</blockquote>
<p>我们算出结果<em>2x + 3</em> 和余数<em>7x – 6</em>，即：<em>p(x) = t(x) × (2x+ 3) + 7x – 6</em>。这就意味着 verifier 为了计算出结果他不得不用 余数除以<em>t(x)</em>， $h(x) = 2x+3+\frac{7x-6}{t(x)}$。</p>
<p>不过由于 <em>x</em> 是 verifier 随机选择的，就有极低的概率余数 <em>7x – 6</em> 最终可以被 <em>t(x)</em> 整除。如果后面 verifier 要另外再检查 p 和 h 必须是整数的话，这个证明才会被拒绝。不过要这么校验就同时要求多项式系数也是整数，这对协议产生了极大的限制。</p>
<p>这就是为什么接下来我们要介绍能够使余数不被整除的密码学原理的原因，尽管这个原始值是有可能被整除的。</p>
<p><strong>Remark 3.1</strong> 现在我们就可以在不知道多项式的前提下根据特定的性质来验证多项式了，这就已经给了我们一些零知识和简明性的特性。但是，这个结构中还存在好多问题：</p>
<ul>
<li>prover 可能并不知道他所声称的 p(x)，他可以先算一下  <em>t</em> = <em>t(r)</em>，然后选择一个随机值 <em>h</em>，由此计算出 <em>p = t⋅h</em>。因为等式是成立的，所以也能通过 verifier 的校验。</li>
<li>因为 prover 知道随机点 <em>x = r</em> ，他可以构造出一个任意的多项式，这个任意多项式与 <em>t</em>(<em>r</em>) ⋅ <em>h</em>(<em>r</em>) 在 <em>r</em> 处有共同点。</li>
<li>在前面的「陈述」中，prover 声称他知道一个特定阶数的多项式，但现在的协议对阶数并没有明确的要求。因而 prover 完全可以拿一个满足因式校验的更高阶数的多项式来欺骗 verifier。</li>
</ul>
<p>下面我们就要来逐一得解决这些问题。</p>
<blockquote>
<p>even@安比实验室：利用因式的性质构造出了一个证明协议，但这个协议存在一些缺陷，主要是由于</p>
<ol>
<li>prover 知道了 t(r)，他就可以反过来任意构造一个可以整除 t(r) 的 p(r)</li>
<li>prover 知道了点(r,t(r) · h(r)) 的值，就可以构造经过这一点的任意多项式，同样满足校验</li>
<li>协议并没有对 prover 的多项式阶数进行约束</li>
</ol>
</blockquote>
<h2 id="heading-4">模糊计算</h2>
<p>Remark 3.1 中的前两个问题是由于 <strong>暴露了原始值</strong> 而导致的，也就是 prover 知道了 <em>r</em> 和 <em>t(r)</em>。但如果 verifier 给出的这个值像放在黑盒里一样不可见的话就完美了，也就是一个人即使不破坏协议，也依然能在这些模糊的值上面完成计算。有点类似哈希函数，从计算结果就很难再回到原始值上。</p>
<h3 id="heading-5">同态加密</h3>
<p>这也就是要设计同态加密的原因。它允许加密一个值并在密文上进行算术运算。获取加密的同态性质的方法有多种，我们来介绍一个简单的方法。</p>
<p>总体思路就是我们选择一个基础的（基数需要具有某些特定的属性）的自然数 <em>g</em>（如 5），然后我们以要加密的值为指数对 <em>g</em> 进行求幂。例如，如果我们要对 3 进行加密：</p>
<p>$5^3=125$</p>
<p>这里 125 就是 3 对应的密文。如果我们想要对被加密的值乘 2，我们可以以 2 为指数来对这个密文进行计算。</p>
<p>$125^2 =15625=(5^3)^2 =5^{2 \times 3} = 5^6$</p>
<p>我们不仅可以用 2 来乘以一个未知的值并保持密文的有效性，还可以通过密文相乘来使两个值相加，例如 3+2：</p>
<p>$5^3 \cdot 5^2 = 5^{3+2} =5^5 =3125$</p>
<p>同样的，我们还可以通过相除提取加密的数字，例如：5-3</p>
<p>$\frac{5^5}{5^3}  = 5^5 \cdot 5^{-3} = 5^{5-3} =5^2 =25$</p>
<p>不过由于基数 5 是公开的，很容易就可以找到被加密的数字。只要将密文一直除以 5，直到结果为 1，那么做除法的次数也就是被加密值的数。</p>
<h3 id="heading-6">模运算</h3>
<p>这里就到了模运算发挥作用的地方了。模运算的思路如下：除了我们所选择的组成有限集合的前 n 个自然数（即，<em>0</em>，<em>1</em>，…，<em>n</em>-<em>1</em>）以外，任何超出此范围的给定整数，我们就将它“缠绕”起来。例如，我们选择前六个数。为了说明这一点，可以把它看做一个有六个单位大小相等刻度的圆；这就是我们所说的范围（通常指的是有限域）。</p>
<p><img src="img/1_q-GtshK0LkZMg5PSj44FvA.png" alt="img"></p>
<p>现在我们看一下数字八应该在哪里。打个比方，我们可以把它看成一条长度为 8 的绳子。<img src="img/1_WbT1Eie_Frg1vdqcfi_uig.png" alt="img"></p>
<p>如果我们将绳子固定在圆圈的开头<img src="img/1_O-OE3lLnPelGiej4L56R3A.png" alt="img"></p>
<p>然后用绳子缠绕圆圈，我们在缠完一圈后还剩下一部分的绳子。</p>
<p><img src="img/1_nOJ-DFp3L4fOYmHbkWp-JQ.png" alt="img"></p>
<p>然后我们继续缠绕，这根绳子将在刻度 2 的地方终止。</p>
<p><img src="img/1_5970QxlFD23iOJrY8_DPsw.png" alt="img"></p>
<p>这就是模运算操作的结果。无论这根绳子多长，它最终都会在圆圈一个刻度处终止。因而模运算结果将保持在一定范围内（例子中是 0 到 5）。长度为 15 的绳子将会在刻度 3 的地方终止，即 <em>6</em> + <em>6</em> + <em>3</em> （缠 2 个完整的圈并剩下 3 个单位长的部分）。负数运算类似，唯一不同的地方就是它是沿相反方向缠绕的，如 -8 的取模结果是 4。</p>
<p>我们执行算术运算，结果都将落在这 n 的范围内。现在开始我们将用符号 “<em>mod n</em>” 来表示这个范围内的数。</p>
<p><em>3 × 5 = 3 mod 6</em></p>
<p><em>5 + 2 = 1 mod 6</em></p>
<p>另外，模运算最重要的性质就是运算顺序无所谓。例如，我们可以先做完所有的操作，然后再取模，或者每操作完一步都去取模。例如  <em>(2 × 4 – 1) × 3 = 3  (mod 6)</em> 就等于：</p>
<p><em>2 × 4 = 1 mod 6</em></p>
<p><em>2 - 1 = 1 mod 6</em></p>
<p><em>1 × 3 = 3 mod 6</em></p>
<p>那么模运算到底有什么用呢？就是如果我们使用模运算，从运算结果再回到原始值并不容易，因为很多不同的组合会产生一个同样的运算结果：</p>
<p><em>5 × 4 = 2 mod 6</em></p>
<p><em>4 × 2 = 2 mod 6</em></p>
<p><em>2 × 1 = 1 mod 6</em></p>
<p><em>……</em></p>
<p>没有模运算的话，计算结果的大小会给找出原始值提供一些线索。除非这里既能把信息隐藏起来，又可以保留常见的算术属性。</p>
<h3 id="heading-7">强同态加密</h3>
<p>我们再回到同态加密上，使用模运算，例如取模 7，我们可以得到：</p>
<p>$5^1 =5(mod \quad 7)$</p>
<p>$5^2 =4(mod \quad 7)$</p>
<p>$5^3 =6(mod \quad 7)$</p>
<p>$……$</p>
<p>不同指数下运算得到了同样的结果：</p>
<p>$5^5 =3(mod \quad 7)$</p>
<p>$5^{11} =3(mod \quad 7)$</p>
<p>$5^{17} =3(mod \quad 7)$</p>
<p>$…$</p>
<p>这样就很难知道指数是多少了。事实上，如果模取得相当大，从运算结果倒推指数运算就不可行了；现代密码学很大程度上就是基于这个问题的“困难”。</p>
<p>方案中所有的同态性质都在模运算中保留了下来：</p>
<p>$encryption: 5^3=6(mod \quad 7)$</p>
<p>$multiplication: 6^2=(5^3)^2=5^6=1(mod \quad 7)$</p>
<p>$addition: 5^3 \cdot 5^2=5^5=3(mod \quad 7)$</p>
<p><em>注意：模相除有点难已经超出范围了。</em></p>
<p>我们来明确地说明一下加密函数：</p>
<p>$E(v)=g^v(mod \quad n)$</p>
<p><em>E(v) = gv(mod n)</em></p>
<p>这里 <em>v</em> 就是我们要加密的值。</p>
<p><strong>Remark 3.2</strong> 这个同态加密模式有一个限制，我们可以把一个加密的值和一个未加密的值相乘，但我们不能将两个加密的值相乘（或者相除），也就是说我们不能对加密值取幂。虽然这些性质第一感觉看起来很不友好，但是这却构成了 <em>zk-SNARK</em> 的基础。这个限制后面将在“加密值乘法”一节中讲到。</p>
<blockquote>
<p>even@安比实验室：通过模运算形成的集合被称为「有限域」，而通过计算指数再进行模运算形成的集合构成「循环群」。常见的同态加密方式除了整数幂取模之外，还有椭圆曲线上的倍乘。</p>
</blockquote>
<h3 id="heading-8">加密多项式</h3>
<p>配合这些工具，我们现在就可以在加密的随机数 <em>x</em> 上做运算并相应地修改<em>零知识</em> 协议了。</p>
<p>我们来看一下如何计算多项式 <em>p(x) = x³ – 3x² + 2x</em>。我们前面明确了，知道一个多项式就是知道它的系数，也就是这个例子中知道：1，-3，2。因为同态加密并不允许再对加密值求幂，所以我们必须要给出 <em>x</em> 的 1 到 3 次幂取加密值：<em>E</em>(<em>x</em>)<em>，E</em>(<em>x</em>²)<em>，E</em>(<em>x</em>³)，那么我们要计算的加密多项式就是：</p>
<p>$$E(x^{3})^{1} · E(x^{2})^{-3} · E(x)^{2} = (g^{x^{3}})^{1} · (g^{x^{2}})^{-3} · (g^x)^2 =  g^{1x^3} · g^{-3x^2} · g^{2x} = g^{x^3-3x^2+2x} $$</p>
<p>所以通过这些运算，我们就获得了多项式在一些未知数 <em>x</em> 处的加密计算结果。这确实是一个很强大的机制，因为同态的性质，同一个多项式的加密运算在加密空间中始终是相同的。</p>
<p>我们现在就可以更新前面版本的协议了，比如对于阶数为 <em>d</em> 的多项式：</p>
<ul>
<li>
<p>Verifier</p>
<ul>
<li>取一个随机数 <em>s</em> ，也就是秘密值</li>
<li>指数 i 取值为 0，1，…，d 时分别计算对 s 求幂的加密结果，即：$E(s^i) = g^{s^i}$</li>
<li>代入 <em>s</em> 计算未加密的目标多项式： $t(s)$</li>
<li>将对 <em>s</em> 求幂的加密结果提供给 prover：$E(s^0)$，$E(s^1)$，…，$E(s^d)$</li>
</ul>
</li>
<li>
<p>Prover</p>
<ul>
<li>
<p>计算多项式 $h(x) = p(x)/t(x)$</p>
</li>
<li>
<p>使用加密值 $g^{s^0}$，$g^{s^1}$，…，$g^{s^d}$ 和系数 $c_0$，$c_1$，…，$c_n$ 计算</p>
<p>$E(p(s)) = g^{p(s)} = (g^{s^d})^{c_d}…(g^{s^1})^{c_1} *(g^{s^0})^{c_0}$</p>
<p>然后同样计算 $E(h(s)) = g^{h(s)}$</p>
</li>
<li>
<p>将结果 $g^p$ 和 $g^h$ 提供给 verifier</p>
</li>
</ul>
</li>
<li>
<p>Verifier</p>
</li>
<li>
<ul>
<li>最后一步是 verifier 去校验 $p = t(s) ·h$: $ g^{p} = (g^{h})^{t(s)} =&gt; g^{p} = g^{t(s)·h} $</li>
</ul>
</li>
</ul>
<p><em>注意：因为证明者并不知道跟 s 相关的任何信息，这就使得他很难提出不合法但是能够匹配验证的计算结果。</em></p>
<p>尽管这个协议中 prover 的灵活性有限，他依然可以在实际不使用 verifier 所提供的加密值进行计算，而是通过其它的方式来伪造证明。例如，如果 prover 声称有一个满足条件的多项式它只使用了 2 个求幂值 $s^3$ 和 $s^1$，这个在当前协议中是不能验证的。</p>
<blockquote>
<p>even@安比实验室: 利用强同态加密这个工具，构造了一个相对较强的零知识证明协议。但是如上文所述，这里还是存在一些问题—— 无法验证 prover 是否是真的使用了 verifier 提供的值来构造证明的。</p>
<p>大家可以思考一下，如何解决这个问题？以及这个协议还存在哪些缺陷呢？</p>
<p>在下一节中，我们将会继续展开讨论，并展示如何构造一个完备的多项式的零知识证明协议。</p>
</blockquote>
<p><strong>原文链接</strong></p>
<p><a href="https://arxiv.org/pdf/1906.07221.pdf">https://arxiv.org/pdf/1906.07221.pdf</a></p>
<p><a href="https://medium.com/@imolfar/why-and-how-zk-snark-works-1-introduction-the-medium-of-a-proof-d946e931160">https://medium.com/@imolfar/why-and-how-zk-snark-works-1-introduction-the-medium-of-a-proof-d946e931160</a></p>
<p><a href="https://medium.com/@imolfar/why-and-how-zk-snark-works-2-proving-knowledge-of-a-polynomial-f817760e2805">https://medium.com/@imolfar/why-and-how-zk-snark-works-2-proving-knowledge-of-a-polynomial-f817760e2805</a></p>
<p><strong>参考文献</strong></p>
<p>[Bit+11] — Nir Bitansky, Ran Canetti, Alessandro Chiesa, and Eran Tromer. <em>From Extractable</em> <em>Collision Resistance to Succinct Non-Interactive Arguments of</em> <em>Knowledge, and Back Again</em>. Cryptology ePrint Archive, Report 2011/443. <a href="https://eprint.iacr.org/2011/443">https://eprint.iacr.org/2011/443</a>. 2011</p>
<p>[Par+13] — Bryan Parno, Craig Gentry, Jon Howell, and Mariana Raykova. <em>Pinocchio: Nearly Practical Verifiable Computation</em>. Cryptology ePrint Archive, Report 2013/279. <a href="https://eprint.iacr.org/2013/279">https://eprint.iacr.org/2013/279</a>. 2013</p>
<p>[Rei16] — Christian Reitwiessner. <em>zkSNARKs in a Nutshell</em>. 2016. url: <a href="https://blog.ethereum.org/2016/12/05/zksnarks-in-a-nutshell/">https://blog.ethereum.org/2016/12/05/zksnarks-in-a-nutshell/</a></p>
<p>[But16] — Vitalik Buterin. <em>Quadratic Arithmetic Programs: from Zero to</em> <em>Hero</em>. 2016. url: <a href="https://medium.com/@VitalikButerin/quadratic-arithmetic-programs-from-zero-to-hero-f6d558cea649">https://medium.com/@VitalikButerin/quadratic-arithmetic-programs-from-zero-to-hero-f6d558cea649</a></p>
<p>[But17] — Vitalik Buterin. <em>zk-SNARKs: Under the Hood</em>. 2017. url: <a href="https://medium.com/@VitalikButerin/zk-snarks-under-the-hood-b33151a013f6">https://medium.com/@VitalikButerin/zk-snarks-under-the-hood-b33151a013f6</a></p>
<p>[Gab17] — Ariel Gabizon. <em>Explaining SNARKs</em>. 2017. url: https://z.cash/blog/snark-explain/</p>
<p>[Ben+14] — Eli Ben-Sasson, Alessandro Chiesa, Christina Garman, Matthew Green, Ian Miers, Eran Tromer, and Madars Virza. <em>Zerocash: Decentralized</em> <em>Anonymous Payments from Bitcoin</em>. Cryptology ePrint Archive, Report 2014/349. <a href="https://eprint.iacr.org/2014/349">https://eprint.iacr.org/2014/349</a>. 2014</p>
<p>[GMR85] — S Goldwasser, S Micali, and C Rackoff. “The Knowledge Complexity of Interactive Proof-systems”. In: <em>Proceedings of the Seventeenth Annual ACM</em> <em>Symposium on Theory of Computing</em>. STOC ’85. Providence, Rhode Island, USA: ACM, 1985, pp. 291–304. isbn: 0–89791–151–2. doi: <a href="https://doi.org/10.1145/22145.22178">10.1145/22145.22178</a>. url: <a href="http://doi.acm.org/10.1145/22145.22178">http://doi.acm.org/10.1145/22145.22178</a></p>
<p>[BFM88] — Manuel Blum, Paul Feldman, and Silvio Micali. “Non-interactive Zero-knowledge and Its Applications”. In: <em>Proceedings of the Twentieth Annual ACM</em> <em>Symposium on Theory of Computing</em>. STOC ’88. Chicago, Illinois, USA: ACM, 1988, pp. 103–112. isbn: 0–89791–264–0. doi: <a href="https://doi.org/10.1145/62212.62222">10.1145/62212.62222</a>. url: <a href="http://doi.acm.org/10.1145/62212.62222">http://doi.acm.org/10.1145/62212.62222</a></p>
<p>[Gro10] — Jens Groth. “Short pairing-based non-interactive zero-knowledge arguments”. In: <em>International Conference on the Theory and Application of Cryptology and</em> <em>Information Security</em>. Springer. 2010, pp. 321–340</p>
<p>[Gen+12] — Rosario Gennaro, Craig Gentry, Bryan Parno, and Mariana Raykova. <em>Quadratic</em> <em>Span Programs and Succinct NIZKs without PCPs</em>. Cryptology ePrint Archive, Report 2012/215. <a href="https://eprint.iacr.org/2012/215">https://eprint.iacr.org/2012/215</a>. 2012</p>
<p>[Pik13] — Scott Pike. <em>Evaluating Polynomial Functions</em>. 2013. url: <a href="http://www.mesacc.edu/~scotz47781/mat120/notes/polynomials/evaluating/evaluating.html">http://www.mesacc.edu/~scotz47781/mat120/notes/polynomials/evaluating/evaluating.html</a></p>
<p>[Pik14] — Scott Pike. <em>Dividing by a Polynomial</em>. 2014. url: <a href="http://www.mesacc.edu/~scotz47781/mat120/notes/divide_poly/long_division/long_division.html">http://www.mesacc.edu/~scotz47781/mat120/notes/divide_poly/long_division/long_division.html</a></p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Maksym Petkus，翻译 & 注解：even@安比实验室（even@secbit.io）</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2020-06-06
      
        <a href="https://github.com/sec-bit/blog/commit/d2d2c4779c68e2f8a0e9e99176cb0eb7aa5563bd" title="fix typo">
          (d2d2c47)
        </a>
        
          <br>fix typo
        
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content">如需转载请注明文章作者和出处。</span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://sec-bit.github.io/blog/tags/zero-knowledge-proof/">Zero Knowledge Proof</a>
          <a href="https://sec-bit.github.io/blog/tags/tutorials/">tutorials</a>
          <a href="https://sec-bit.github.io/blog/tags/zksnarks/">zkSNARKs</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/blog/2020/01/01/learn-zk-snark-from-zero-part-two/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">从零开始学习 zk-SNARK（二）——多项式的非交互式零知识证明</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/blog/2019/12/19/onchain-privacy-and-mixer/">
            <span class="next-text nav-default">链上富人寻「隐私」记（一：Mixer 篇）</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "sec-bit/comments-for-secbit-blog"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:hi@secbit.io" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://twitter.com/SECBIT_IO" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="https://github.com/sec-bit" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/org/secbit/" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="https://sec-bit.github.io/blog/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2018 -
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        SECBIT Labs
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/blog/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/blog/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/blog/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"
    integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG"
    crossorigin="anonymous">

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js"
    integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1"
    crossorigin="anonymous"></script>

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js"
    integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
    crossorigin="anonymous" onload="renderMathInElement(document.body);">
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        
      });
    });
  </script>






  
    <script type="text/javascript" src="/blog/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/blog/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/blog/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











  <script>
    $("#openSearch, #openSearchMobile").click(function(){
      $(".modal-dialog").addClass("visible");
    });

    $("#closeSearch").click(function(){
      $(".modal-dialog").removeClass("visible");
    });

    $(document).click(function(event) {
    
      if (!$(event.target).closest(".modal-content, #openSearch, #openSearchMobile").length) {
        $("body").find(".modal-dialog").removeClass("visible");
      }
    });
  </script>





</body>
</html>
