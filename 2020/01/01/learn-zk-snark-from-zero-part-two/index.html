<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>从零开始学习 zk-SNARK（二）——多项式的非交互式零知识证明 - SECBIT Blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Maksym Petkus，翻译 & 注解：even@安比实验室（even@secbit.io）" />
  <meta name="description" content="even@安比实验室: 上一篇文章中，作者介绍了如何利用多项式的性质来证明某个多项式的知识，相信大家已经对构造证明有了一些基本的认识。目前的证明协议仍然存在一些缺陷，本文将会针对这些薄弱项进行改进，进而最终构造出关于多项式的零知识证明协议。本文重点：KEA，交互式零知识证明，非交互式零知识证明和 Setup。" />

  <meta name="keywords" content="Blockchain, Smart Contract, Zero Knowledge Proof" />






<meta name="generator" content="Hugo 0.62.0" />


<link rel="canonical" href="https://sec-bit.github.io/blog/2020/01/01/learn-zk-snark-from-zero-part-two/" />





<link rel="icon" href="/blog/favicon.ico" />











<link rel="stylesheet" href="/blog/sass/jane.min.0995afa14b62cd93e93cfc066b646c4c17a3eddca0e9d52a1d9dcf5d90aaacd3.css" integrity="sha256-CZWvoUtizZPpPPwGa2RsTBej7dyg6dUqHZ3PXZCqrNM=" media="screen" crossorigin="anonymous">




<link rel="stylesheet" href="/blog/css/custom.css">


<meta property="og:title" content="从零开始学习 zk-SNARK（二）——多项式的非交互式零知识证明" />
<meta property="og:description" content="even@安比实验室: 上一篇文章中，作者介绍了如何利用多项式的性质来证明某个多项式的知识，相信大家已经对构造证明有了一些基本的认识。目前的证明协议仍然存在一些缺陷，本文将会针对这些薄弱项进行改进，进而最终构造出关于多项式的零知识证明协议。本文重点：KEA，交互式零知识证明，非交互式零知识证明和 Setup。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sec-bit.github.io/blog/2020/01/01/learn-zk-snark-from-zero-part-two/" />
<meta property="article:published_time" content="2020-01-01T08:00:00+08:00" />
<meta property="article:modified_time" content="2020-03-24T13:02:40+08:00" /><meta property="og:site_name" content="SECBIT Blog" />
<meta itemprop="name" content="从零开始学习 zk-SNARK（二）——多项式的非交互式零知识证明">
<meta itemprop="description" content="even@安比实验室: 上一篇文章中，作者介绍了如何利用多项式的性质来证明某个多项式的知识，相信大家已经对构造证明有了一些基本的认识。目前的证明协议仍然存在一些缺陷，本文将会针对这些薄弱项进行改进，进而最终构造出关于多项式的零知识证明协议。本文重点：KEA，交互式零知识证明，非交互式零知识证明和 Setup。">
<meta itemprop="datePublished" content="2020-01-01T08:00:00&#43;08:00" />
<meta itemprop="dateModified" content="2020-03-24T13:02:40&#43;08:00" />
<meta itemprop="wordCount" content="8739">



<meta itemprop="keywords" content="Zero Knowledge Proof,tutorials,zkSNARKs," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="从零开始学习 zk-SNARK（二）——多项式的非交互式零知识证明"/>
<meta name="twitter:description" content="even@安比实验室: 上一篇文章中，作者介绍了如何利用多项式的性质来证明某个多项式的知识，相信大家已经对构造证明有了一些基本的认识。目前的证明协议仍然存在一些缺陷，本文将会针对这些薄弱项进行改进，进而最终构造出关于多项式的零知识证明协议。本文重点：KEA，交互式零知识证明，非交互式零知识证明和 Setup。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-149859278-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body,
            {
                delimiters: [
                    { left: "$$", right: "$$", display: true },
                    { left: "$", right: "$", display: false },
                ]
            }
        );
    });
</script>

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/blog/" class="logo">SECBIT Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/categories/">分类</a>
          
        
      </li>
    <li class="mobile-menu-item">
        
        <div class="mobile-menu-parent mobile-menu-item-lang">
          <span class="mobile-submenu-open"></span>
          <a href="#">
            
            <i class="iconfont">
              <svg height="16" width="16" version="1.1" viewBox="0 0 128 128">
  <path d="m 64.719501,1.4279814 c -34.694029,0 -62.8192028,28.1251726 -62.8192028,62.8192016 0,34.694036 28.1251738,62.819207 62.8192028,62.819207 4.245691,0 8.392744,-0.42239 12.402214,-1.2253 -1.616124,-0.77296 -1.792473,-6.57213 -0.194346,-9.87848 1.779059,-3.68082 7.361625,-13.00555 1.840404,-16.134231 -5.521221,-3.12869 -3.98755,-4.53968 -7.361625,-8.15914 -3.374083,-3.61947 -1.994181,-4.16357 -2.208492,-5.09179 -0.736158,-3.19004 3.251385,-7.975096 3.435429,-8.465866 0.184043,-0.490781 0.184043,-2.331182 0.122689,-2.883308 -0.06131,-0.552125 -2.515051,-2.024446 -3.12852,-2.085791 -0.613469,-0.06133 -0.920209,0.98154 -1.77906,1.042896 -0.858856,0.06133 -4.601018,-2.269838 -5.39853,-2.883308 -0.797504,-0.61346 -1.165591,-2.085792 -2.269828,-3.190033 -1.104247,-1.104252 -1.226945,-0.24539 -2.944651,-0.920206 -1.717714,-0.674812 -7.238935,-2.69926 -11.471867,-4.416975 -4.23294,-1.717714 -4.601019,-4.125615 -4.662365,-5.827954 -0.06131,-1.702333 -2.57657,-4.171587 -3.756227,-5.950646 -1.179335,-1.77906 -1.396914,-4.232932 -1.826339,-3.680809 -0.429425,0.552114 2.208484,6.993538 1.77906,7.177582 -0.429425,0.184043 -1.349635,-1.77906 -2.576572,-3.374083 -1.226936,-1.595016 1.28829,-0.736159 -2.637915,-8.465864 -3.926198,-7.729705 1.226944,-11.671284 1.472324,-15.704806 0.24539,-4.033514 3.312738,1.472325 1.717715,-1.104238 -1.595016,-2.576571 0.122697,-7.975094 -1.104246,-9.938197 -1.226936,-1.963102 -8.220475,2.208492 -8.220475,2.208492 0.184036,-1.901758 6.134682,-5.153142 10.428966,-8.1591366 4.294277,-3.005996 6.91682,-0.674813 10.367621,0.4294236 3.450803,1.104246 3.680817,0.736167 2.515226,-0.368079 -1.165591,-1.1042446 0.49077,-1.6563686 3.190031,-1.2269356 2.699269,0.429425 3.435428,3.6808086 7.545669,3.3740746 4.110242,-0.306735 0.429425,0.797511 0.981548,1.840412 0.552123,1.042892 -0.613468,0.920202 -3.312729,2.760607 -2.699262,1.840403 0.06131,1.840403 4.846407,5.337177 4.785055,3.496773 3.312729,-2.331183 2.821952,-4.907753 -0.490777,-2.576563 3.496773,-0.552115 3.496773,-0.552115 2.944651,1.963094 2.400546,0.107972 4.547684,0.782784 2.147139,0.674814 7.967076,5.597286 7.967076,5.597286 -7.300273,3.98755 -2.699261,4.416975 -1.472325,5.337178 1.226937,0.920202 -2.515218,2.699261 -2.515218,2.699261 -1.53367,-1.53367 -1.779059,0.06131 -2.760614,0.613476 -0.981548,0.552115 -0.06131,1.963095 -0.06131,1.963095 -5.076415,0.797512 -3.926198,6.13469 -3.864852,7.422971 0.06131,1.288289 -3.251385,3.251384 -4.110242,5.091796 -0.858857,1.840405 2.208491,5.827948 0.613468,6.073336 -1.595016,0.24539 -3.190031,-6.011991 -11.778601,-3.680808 -2.589322,0.702954 -8.343174,3.680808 -5.275824,9.754153 3.06734,6.073336 8.15913,-1.717714 9.876843,-0.858857 1.717714,0.858857 -0.490778,4.72371 -0.122691,4.785055 0.368079,0.06131 4.8464,0.168662 5.09179,5.398522 0.245388,5.229868 6.809502,4.785065 8.220482,4.907755 1.410972,0.12269 6.134682,-3.864859 6.809502,-4.048894 0.674815,-0.184034 3.374076,-2.453876 9.263377,0.920195 5.889301,3.374089 8.895296,2.883308 10.919743,4.294285 2.02445,1.410987 0.61347,4.232939 2.51523,5.153134 1.90175,0.920217 9.50876,-0.306736 11.41051,2.821966 1.90176,3.1287 -7.8524,18.833491 -10.91974,20.551201 -3.06734,1.71772 -4.478321,5.64392 -7.545665,8.15913 -3.067349,2.51523 -7.361625,5.62854 -11.410522,8.03646 -3.583968,2.1311 -4.228845,5.949 -5.825333,7.15419 28.11404,-6.24545 49.13623,-31.328971 49.13623,-61.323497 0,-34.694029 -28.125171,-62.8192016 -62.819206,-62.8192016 z M 79.442753,60.382331 c -0.858857,0.245389 -2.637917,1.840405 -6.993547,-0.736166 -4.35563,-2.576564 -7.361625,-2.085794 -7.729705,-2.515218 0,0 -0.368079,-1.0429 1.533671,-1.226937 3.905098,-0.378065 8.833951,3.619464 9.938196,3.680809 1.104246,0.06131 1.656361,-1.104245 3.619464,-0.471631 1.963103,0.631953 0.490777,1.023755 -0.368079,1.269143 z M 58.891546,7.6853614 c -0.427786,-0.311152 0.354344,-0.669418 0.82058,-1.288281 0.269103,-0.357613 0.0695,-0.951289 0.406356,-1.28829 0.92021,-0.920203 5.459876,-2.208485 4.572225,0.306734 -0.887321,2.515226 -5.12434,2.760614 -5.799161,2.269837 z m 10.98109,7.9750936 c -1.533672,-0.06131 -5.14381,-0.442837 -4.478321,-1.104246 2.591952,-2.576563 -0.981548,-3.312729 -3.190039,-3.496766 -2.208485,-0.184043 -3.128687,-1.4109786 -2.02444,-1.5336776 1.104237,-0.12269 5.521213,0.06139 6.257379,0.6748206 0.736158,0.613469 4.723709,2.208485 4.969099,3.374076 0.24538,1.16559 0,2.147138 -1.533678,2.085793 z M 83.184914,15.23103 c -1.226943,0.981547 -7.400887,-3.521968 -8.588569,-4.539674 -5.153134,-4.4169746 -7.913742,-2.9446486 -8.995903,-3.6808086 -1.082485,-0.736166 -0.696897,-1.717713 0.959464,-3.190039 1.656369,-1.472325 6.318732,0.490778 9.017994,0.797512 2.699262,0.306734 5.827955,2.392527 5.889301,4.871925 0.06131,2.4792256 2.944649,4.7595296 1.717713,5.7410846 z" />
</svg>

            </i>
            语言
          </a>
        </div>
        <ul class="mobile-submenu-list">
          
            <li>
              
                <a href="https://sec-bit.github.io/blog/en/">English</a>
              
            </li>
          
            <li>
              
                <a href="https://sec-bit.github.io/blog/"><strong>中文</strong></a>
              
            </li>
          
        </ul>
      </li>

    
      <li class="mobile-menu-item">
        <a id="openSearchMobile" class="mobile-menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/blog/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/blog/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  
    
<div class="modal-dialog">
    
    <div class="modal-content">
      <div id="closeSearch" title="Close" class="close">X</div>
      <div class="modal-header">
        <div class="modal-title">Search</div>
      </div>
      <div class="modal-body">
          <script>
            (function() {
              var cx = '013402755253274635861:4rj70y1whw3';
              var gcse = document.createElement('script');
              gcse.type = 'text/javascript';
              gcse.async = true;
              gcse.src = (document.location.protocol == 'https:' ? 'https:' :
                  'http:') +
                '//cse.google.com/cse.js?cx=' + cx;
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          <gcse:search></gcse:search>
      </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/blog/" class="logo">
    
      SECBIT Blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://sec-bit.github.io/blog/categories/">分类</a>
          

        

      </li>
    

    
    <li class="menu-item">
        
        <a class="menu-item-link menu-parent menu-item-lang" href="#">
          
          <i class="iconfont">
            <svg height="16" width="16" version="1.1" viewBox="0 0 128 128">
  <path d="m 64.719501,1.4279814 c -34.694029,0 -62.8192028,28.1251726 -62.8192028,62.8192016 0,34.694036 28.1251738,62.819207 62.8192028,62.819207 4.245691,0 8.392744,-0.42239 12.402214,-1.2253 -1.616124,-0.77296 -1.792473,-6.57213 -0.194346,-9.87848 1.779059,-3.68082 7.361625,-13.00555 1.840404,-16.134231 -5.521221,-3.12869 -3.98755,-4.53968 -7.361625,-8.15914 -3.374083,-3.61947 -1.994181,-4.16357 -2.208492,-5.09179 -0.736158,-3.19004 3.251385,-7.975096 3.435429,-8.465866 0.184043,-0.490781 0.184043,-2.331182 0.122689,-2.883308 -0.06131,-0.552125 -2.515051,-2.024446 -3.12852,-2.085791 -0.613469,-0.06133 -0.920209,0.98154 -1.77906,1.042896 -0.858856,0.06133 -4.601018,-2.269838 -5.39853,-2.883308 -0.797504,-0.61346 -1.165591,-2.085792 -2.269828,-3.190033 -1.104247,-1.104252 -1.226945,-0.24539 -2.944651,-0.920206 -1.717714,-0.674812 -7.238935,-2.69926 -11.471867,-4.416975 -4.23294,-1.717714 -4.601019,-4.125615 -4.662365,-5.827954 -0.06131,-1.702333 -2.57657,-4.171587 -3.756227,-5.950646 -1.179335,-1.77906 -1.396914,-4.232932 -1.826339,-3.680809 -0.429425,0.552114 2.208484,6.993538 1.77906,7.177582 -0.429425,0.184043 -1.349635,-1.77906 -2.576572,-3.374083 -1.226936,-1.595016 1.28829,-0.736159 -2.637915,-8.465864 -3.926198,-7.729705 1.226944,-11.671284 1.472324,-15.704806 0.24539,-4.033514 3.312738,1.472325 1.717715,-1.104238 -1.595016,-2.576571 0.122697,-7.975094 -1.104246,-9.938197 -1.226936,-1.963102 -8.220475,2.208492 -8.220475,2.208492 0.184036,-1.901758 6.134682,-5.153142 10.428966,-8.1591366 4.294277,-3.005996 6.91682,-0.674813 10.367621,0.4294236 3.450803,1.104246 3.680817,0.736167 2.515226,-0.368079 -1.165591,-1.1042446 0.49077,-1.6563686 3.190031,-1.2269356 2.699269,0.429425 3.435428,3.6808086 7.545669,3.3740746 4.110242,-0.306735 0.429425,0.797511 0.981548,1.840412 0.552123,1.042892 -0.613468,0.920202 -3.312729,2.760607 -2.699262,1.840403 0.06131,1.840403 4.846407,5.337177 4.785055,3.496773 3.312729,-2.331183 2.821952,-4.907753 -0.490777,-2.576563 3.496773,-0.552115 3.496773,-0.552115 2.944651,1.963094 2.400546,0.107972 4.547684,0.782784 2.147139,0.674814 7.967076,5.597286 7.967076,5.597286 -7.300273,3.98755 -2.699261,4.416975 -1.472325,5.337178 1.226937,0.920202 -2.515218,2.699261 -2.515218,2.699261 -1.53367,-1.53367 -1.779059,0.06131 -2.760614,0.613476 -0.981548,0.552115 -0.06131,1.963095 -0.06131,1.963095 -5.076415,0.797512 -3.926198,6.13469 -3.864852,7.422971 0.06131,1.288289 -3.251385,3.251384 -4.110242,5.091796 -0.858857,1.840405 2.208491,5.827948 0.613468,6.073336 -1.595016,0.24539 -3.190031,-6.011991 -11.778601,-3.680808 -2.589322,0.702954 -8.343174,3.680808 -5.275824,9.754153 3.06734,6.073336 8.15913,-1.717714 9.876843,-0.858857 1.717714,0.858857 -0.490778,4.72371 -0.122691,4.785055 0.368079,0.06131 4.8464,0.168662 5.09179,5.398522 0.245388,5.229868 6.809502,4.785065 8.220482,4.907755 1.410972,0.12269 6.134682,-3.864859 6.809502,-4.048894 0.674815,-0.184034 3.374076,-2.453876 9.263377,0.920195 5.889301,3.374089 8.895296,2.883308 10.919743,4.294285 2.02445,1.410987 0.61347,4.232939 2.51523,5.153134 1.90175,0.920217 9.50876,-0.306736 11.41051,2.821966 1.90176,3.1287 -7.8524,18.833491 -10.91974,20.551201 -3.06734,1.71772 -4.478321,5.64392 -7.545665,8.15913 -3.067349,2.51523 -7.361625,5.62854 -11.410522,8.03646 -3.583968,2.1311 -4.228845,5.949 -5.825333,7.15419 28.11404,-6.24545 49.13623,-31.328971 49.13623,-61.323497 0,-34.694029 -28.125171,-62.8192016 -62.819206,-62.8192016 z M 79.442753,60.382331 c -0.858857,0.245389 -2.637917,1.840405 -6.993547,-0.736166 -4.35563,-2.576564 -7.361625,-2.085794 -7.729705,-2.515218 0,0 -0.368079,-1.0429 1.533671,-1.226937 3.905098,-0.378065 8.833951,3.619464 9.938196,3.680809 1.104246,0.06131 1.656361,-1.104245 3.619464,-0.471631 1.963103,0.631953 0.490777,1.023755 -0.368079,1.269143 z M 58.891546,7.6853614 c -0.427786,-0.311152 0.354344,-0.669418 0.82058,-1.288281 0.269103,-0.357613 0.0695,-0.951289 0.406356,-1.28829 0.92021,-0.920203 5.459876,-2.208485 4.572225,0.306734 -0.887321,2.515226 -5.12434,2.760614 -5.799161,2.269837 z m 10.98109,7.9750936 c -1.533672,-0.06131 -5.14381,-0.442837 -4.478321,-1.104246 2.591952,-2.576563 -0.981548,-3.312729 -3.190039,-3.496766 -2.208485,-0.184043 -3.128687,-1.4109786 -2.02444,-1.5336776 1.104237,-0.12269 5.521213,0.06139 6.257379,0.6748206 0.736158,0.613469 4.723709,2.208485 4.969099,3.374076 0.24538,1.16559 0,2.147138 -1.533678,2.085793 z M 83.184914,15.23103 c -1.226943,0.981547 -7.400887,-3.521968 -8.588569,-4.539674 -5.153134,-4.4169746 -7.913742,-2.9446486 -8.995903,-3.6808086 -1.082485,-0.736166 -0.696897,-1.717713 0.959464,-3.190039 1.656369,-1.472325 6.318732,0.490778 9.017994,0.797512 2.699262,0.306734 5.827955,2.392527 5.889301,4.871925 0.06131,2.4792256 2.944649,4.7595296 1.717713,5.7410846 z" />
</svg>

          </i>
          中文
        </a>
        <ul class="submenu">
          
            
              <li>
                <a href="https://sec-bit.github.io/blog/en/">English</a>
              </li>
            
          
            
          
        </ul>
      </li>
    

    
      <li class="menu-item">
        <a id="openSearch" class="menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">从零开始学习 zk-SNARK（二）——多项式的非交互式零知识证明</h1>
      
      <div class="post-meta">
        <time datetime="2020-01-01" class="post-time">
          2020-01-01
        </time>
        <div class="post-category">
            <a href="https://sec-bit.github.io/blog/categories/zero-knowledge-proof/"> Zero Knowledge Proof </a>
            <a href="https://sec-bit.github.io/blog/categories/zksnarks/"> zkSNARKs </a>
            
          </div>
        <span class="more-meta"> 约 8739 字 </span>
          <span class="more-meta"> 预计阅读 18 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    
  </div>
</div>

    
    <div class="post-content">
      <blockquote>
<p>even@安比实验室: 上一篇文章中，作者介绍了如何利用多项式的性质来证明某个多项式的知识，相信大家已经对构造证明有了一些基本的认识。目前的证明协议仍然存在一些缺陷，本文将会针对这些薄弱项进行改进，进而最终构造出关于多项式的零知识证明协议。本文重点：KEA，交互式零知识证明，非交互式零知识证明和 Setup。</p>
</blockquote>
<p>作者：Maksym Petkus</p>
<p>翻译 &amp; 注解：even@安比实验室（even@secbit.io）</p>
<p>校对：valuka@安比实验室</p>
<p>本系列文章已获作者中文翻译授权。</p>
<h2 id="限制多项式">限制多项式</h2>
<p>上文说到，多项式的知识其实就是它的系数 <em>c<sub>0</sub>, c<sub>1</sub>, …, c<sub>i</sub></em> 的知识。协议中我们是通过对秘密值 <em>s</em> 的幂的加密值再进行求幂来对系数进行“赋值”。我们已经限制了 prover 对 <em>s</em> 幂的加密值的选择, 但是这个限制并不是强制的 ，也就是说，prover 可以使用任何可能的方法找到满足下面等式的值 <em>z<sub>p</sub></em> 和 <em>z<sub>h</sub></em></p>
<p><span class="math inline">\(Z_p = (Z_h)^{t(s)}\)</span></p>
<p>再用这两个值来代替 <em>gᵖ</em> 和 <em>gʰ</em> 将它交给 verifier。所以 verifier 需要能够证明 prover 给出的值就是用 <em>s</em> 幂的加密值而不是其它值计算出来的。</p>
<p>我们看一个由一个变量和一个系数组成的一阶多项式的简单例子，对应的 <em>s</em> 的加密值为 <em>E(s) = gˢ</em>。这里我们要做的就是确保 prover 是拿 <em>s</em> 的加密值，即 <em>gˢ</em> ，而不是其他值与系数 <em>c</em> 做同态相乘的。所以结果一定是这个形式（<em>c</em> 为任意值）：</p>
<p><span class="math inline">\((g^s)^c\)</span></p>
<p>解决这个问题的一种方法就是用另一个“变换”的加密值做同样的操作，充当类似算术中“校验和”<em>（Checksum）</em> 的作用，以此确保结果是原始值的求幂值。</p>
<p>这个是通过 <strong>Knowledge-of-Exponent Assumption (简称 KEA)</strong> 方法来实现的，在 [<a href="#bd26">Dam91</a>] 中有介绍，更精准一点（注意 <em>a</em> 和 <em>α</em>(alpha)这两个字符的不同）说：</p>
<p>a）Alice 有一个值 <em>a</em>，她想要 Bob 对其进行任意指数的求幂（这里 <em>a</em> 是一个有限域群的生成器），唯一的要求是只能对 <em>a</em> 进行求幂，为了保证这一点，她要：</p>
<ul>
<li><p>选择一个随机数 <em>α</em></p></li>
<li><p>计算 <em>a’ = a <sup>α</sup>(mod n)​</em></p></li>
<li><p>提供一个元组 <em>(a, a’)</em> 给 Bob, 然后让他对这两个值执行任意的求幂运算，返回结果元组 <em>(b, b’)</em>，这里的指数 “α-变换” 依然保持不变，即 <em>b<sup>α</sup> = b’(mod n)​</em></p></li>
</ul>
<ol start="2" type="a">
<li>因为 Bob 无法从元组 <em>(a, a’)</em> 中提取 <em>α</em> 的值，通过暴力破解也难以实现，那就可以推断 Bob 生成有效元组的唯一方法就是执行下面的步骤：</li>
</ol>
<ul>
<li>选择一个值 c</li>
<li>计算 b=(a)<sup>c</sup>(mod n) 和 b’ = (a’)<sup>c</sup> (mod n)</li>
<li>回复 <em>(b,b’)</em></li>
</ul>
<ol start="3" type="a">
<li>有了回复的元组和 <em>α</em>，Alice 就可以验证等式：</li>
</ol>
<p><em>(b)<sup>α</sup> = b’</em></p>
<p><em>(a<sup>c</sup>)<sup>α</sup> = (a’)<sup>c</sup></em></p>
<p><em>a<sup>c·α</sup> = (a<sup>α</sup>)<sup>c</sup></em></p>
<p>结论是：</p>
<ul>
<li>Bob 在元组的两个值的计算上都用了同一个指数（即 <em>c</em>）</li>
<li>Bob 只能用 Alice 原本的元组来保持 <em>α</em> 关系</li>
<li>Bob 知道指数 <em>c</em>，因为构造验证值 (<em>b,b</em>′) 的唯一方式是用同一个指数</li>
<li>Alice 并不知道 <em>c</em>，这和 Bob 不知道 <em>α</em> 的原因一样</li>
<li>虽然 <em>c</em> 是被加密的，但它的可能取值范围并不足够大到保持其零知识的性质，这个问题我们将在后面“零知识”那一节解决。</li>
</ul>
<p>最后这个协议提供了一个证明给 Alice ，Bob 确实是用他知道的某个值对 <em>a</em> 进行求幂的，而且他也不能做别的任何操作，例如：乘法，加法，因为这样就会破坏 α-变换关系。</p>
<p>在同态加密中，求幂是对被加密值进行乘法运算。我们可以应用这个结构到一个简单的系数多项式 <em>f</em>(<em>x</em>) = <em>c</em>⋅ <em>x</em>的例子中：</p>
<ul>
<li><p>verifier 选择随机数 <em>s</em>, <em>α</em>，然后提供令 <em>x=s</em> 的一阶及其转换的计算值：</p>
<p><span class="math inline">\((g^s,g^{αs})\)</span></p></li>
<li><p>prover 代入系数 c 计算:</p>
<p><span class="math inline">\(((g^s)^c,(g^{αs})^c) =(g^{cs},g^{αcs})\)</span></p></li>
<li><p>verifier 验证：</p>
<p><span class="math inline">\((g^{cs})^α = g^{αcs}\)</span></p></li>
</ul>
<p>这个结构“限制” prover 只能用 verifier 提供的加密的 <em>s</em> 进行计算，因而 prover 只能将系数 c 赋给 verifier 提供的多项式。现在我们可以扩展这种单项式上的方法到多项式上，因为计算是先将每项的分配分开计算然后再 “同态地” 相加在一起的（这个方法是 Jens Groth 在 [<a href="#3068">Gro10</a>] 中介绍的）。所以如果给定 prover 一个指数为 <em>s</em> 的幂以及它们的变换的加密值，他就可以计算原始的和变换后的多项式，这里也必须要满足同样的校验。对于阶数为 <em>d</em> 的多项式：</p>
<ul>
<li><p>verifier 提供加密值 <span class="math inline">\(g^{s^0}\)</span>,<span class="math inline">\(g^{s^1}\)</span>,…,<span class="math inline">\(g^{s^d}\)</span> 和他们的变换 <span class="math inline">\(g^{αs^0}\)</span>,<span class="math inline">\(g^{αs^1}\)</span>,…,<span class="math inline">\(g^{αs^d}\)</span></p></li>
<li><p>prover:</p>
<ul>
<li><p>计算给定的带有 s 的幂的加密多项式</p>
<p><span class="math inline">\(g^{p(s)} = (g^{s^0})^{c_0} \cdot (g^{s^1})^{c_1}……(g^{s^d})^{c_d} = g^{(c_0s^0+c_1s^1+…+c_ds^d) }\)</span></p></li>
<li><p>计算给定的带有 s 的幂的转换的加密“转换”多项式：</p>
<p>$g^{αp(s)} = (g<sup>{αs</sup>0})^{c_0} (g<sup>{αs</sup>1})<sup>{c_1}……(g</sup>{αs<sup>d})</sup>{c_d} = g<sup>(c_0αs</sup>0+c_1αs<sup>1+…+c_dαs</sup>d) = g<sup>α(c_0s</sup>0+c_1s<sup>1+…+c_ds</sup>d) $</p></li>
<li><p>将计算结果 <span class="math inline">\(g^p\)</span>,<span class="math inline">\(g^{p&#39;}\)</span> 发给verfier</p></li>
</ul></li>
<li><p>verifier 校验：<span class="math inline">\((g^p)^α = g^{p&#39;}\)</span></p></li>
</ul>
<p>前面的多项式例子 <em>p(x) = x<sup>3</sup> - 3x<sup>2</sup> +2x</em> 就变成了：</p>
<ul>
<li><p>verifier 提供 <span class="math inline">\(E(s^3)\)</span>, <span class="math inline">\(E(s^2)\)</span>, <span class="math inline">\(E(s)\)</span> 和它们的变换 <span class="math inline">\(E(αs^3)\)</span>, <span class="math inline">\(E(αs^2)\)</span>, <span class="math inline">\(E(αs)\)</span></p></li>
<li><p>prover 计算：</p>
<p><span class="math inline">\(g^p = g^{p(s)} = (g^{s^3})^1 \cdot (g^{s^2})^{(-3)} \cdot (g^s)^2 = g^{s^3} \cdot g^{-3s^2} \cdot g^{2s} = g^{s^3-3s^2+2s}\)</span></p>
<p><span class="math inline">\(g^{p&#39;} = g^{αp(s)} = (g^{αs^3})^1 \cdot (g^{αs^2})^(-3) \cdot (g^αs)^2 = g^{αs^3} \cdot g^{-3αs^2} \cdot g^{2αs} = g^{α(s^3-3s^2+2s)}\)</span></p></li>
<li><p>verifier 校验：<span class="math inline">\((g^p)^α = g^{p&#39;}\)</span></p>
<p><span class="math inline">\((g^{s^3-3s^2+2s})^α = g^{α(s^3-3s^2+2s)}\)</span></p>
<p><span class="math inline">\(g^{α(s^3-3s^2+2s)} = g^{α(s^3-3s^2+2s)}\)</span></p></li>
</ul>
<p>现在我们就可以确保 prover 是用了 verifier 提供的多项式而不是其它值做计算的了，因为别的方法不能够保持 α-变换。 当然如果 verifier 想要确保在 prover 的多项式中排除了 s 的某些次幂，如 j， 他就不提供对应的密文及其变换：</p>
<p><span class="math inline">\(g^{s^j}，g^{αs^j}\)</span></p>
<p>与前面的协议相比，我们现在已经有了一个比较健壮的协议。但是尽管已经做了加密，在<em>零知识</em> 性质上也还依然存在一个很明显的缺陷：<em>即理论上多项式参数 c<sub>ᵢ</sub> 是一个很广的取值范围内的值，实际上这个范围可能很有限</em>（比如前面例子中的 6），这就意味着 verifier 可以在有限范围的系数组合中进行暴力破解，最终计算出一个与 prover 的答案相等的结果。比如我们将每个系数的取值范围定为 100，多项式阶数为 2，那么大概会有 100 万种不同的组合，这里可以认为暴力破解只需要少于 100 万次的迭代。更重要的是，即使在只有一个系数，值为 1 的例子中，安全协议也应该能够保证其安全。</p>
<blockquote>
<p>even@安比实验室: 有了 KEA，就可以约束 prover 只能通过用 verifier 提供的加密值去构造证明了。严格点讲，这里是用的是 KEA的扩展版本，叫做 The q-power Knowledge of Exponent Assumption.</p>
</blockquote>
<h2 id="零知识证明">零知识证明</h2>
<p>因为 verifier 能够从 prover 发送的数据中提取未知多项式 <em>p(x)</em> 的知识 ，那么我们就来看一下这些提供的数据（证明）：</p>
<p><span class="math inline">\(g^p\)</span>，<span class="math inline">\(g^{p&#39;}\)</span>，<span class="math inline">\(g^h\)</span></p>
<p>它们参与到了下面的验证：</p>
<p><span class="math inline">\(g^p = (g^h)^{t(s)}\)</span> (多项式 <em>p(x)</em> 有根 <em>t(x)</em>)</p>
<p><span class="math inline">\((g^p)^α = g^{p&#39;}\)</span> (用了正确形式的多项式)</p>
<p>问题是我们如何选择证明使得这个校验依然有效，同时又保证没有知识能被提取？</p>
<p>前面章节给了我们一个答案：我们可以使用随机值 <em>δ (delta)</em>来“变换”这些值, 如 <em>(g<sup>p</sup> )<sup>δ</sup></em>。 现在，为了提取知识，就必须首先要知道一个不可知的值 <em>δ</em>。并且，这种随机化在统计学上与随机值没有什么区别。</p>
<p>为了保持这种关系，我们在 verifier 的检查中验证一下。等式的每一边都有一个 prover 提供的值。所以如果我们用同一个<em>δ</em> 来“变换” 每一个值，那么等式一定保持相等。</p>
<p>具体来讲，就是 prover 选择一个随机值 <em>δ</em> ，并用它对证明中的值进行求幂</p>
<p><span class="math inline">\((g^{p(s)})^δ\)</span> , <span class="math inline">\((g^{h(s)})^δ\)</span> , <span class="math inline">\((g^{αp(s)})^δ\)</span></p>
<p>然后提供验证内容给 verifier：</p>
<p><span class="math inline">\((g^p)^δ = ((g^h)^δ)^{t(s)}\)</span></p>
<p><span class="math inline">\(((g^p)^δ)^α = (g^{p&#39;})^δ\)</span></p>
<p>再合并一下我们就可以看到校验的等式依然成立：</p>
<p><span class="math inline">\(g^{δ \cdot p} = g^{δ \cdot t(s)h}\)</span></p>
<p><span class="math inline">\(g^{δ \cdot αp} = g^{δ \cdot p&#39;}\)</span></p>
<p>注意零知识是如何轻而易举地融入到这个结构中去的，这通常也被称为“无成本的”零知识。</p>
<blockquote>
<p>even@安比实验室: 借助这个”无成本的”技巧，就可以轻松实现零知了。但是这里实现零知识的方法和实际中的Pinocchio协议，还有Groth16 方案略有不同。实际方案中是用乘法乘以 <span class="math inline">\(g^{δ\cdot t(s)}\)</span>。</p>
</blockquote>
<h2 id="非交互式">非交互式</h2>
<p>到现在为止，我们已经讲完了一个交互式的零知识方案。但为什么我们还需要有非交互式呢？因为交互式证明只对原始的 verifier 有效，其他任何人（其他的 verifier）都不能够信任这个证明，因为：</p>
<ul>
<li>verifier 可以和 prover 串通，告诉他密码参数 <em>s</em>, <em>α</em>，有了这些参数 prover 就可以伪造证明，就像前面 <strong>remark 3.1</strong> 提到的那样。</li>
<li>verifier 也可以使用同样的方法自己伪造证明。</li>
<li>verifier 必须保存 <em>α</em> and <em>t</em>(<em>s</em>) 直到所有相关证明被验证完毕，这就带来了一个可能造成秘密参数泄漏的额外攻击面。</li>
</ul>
<p>因而 prover 就需要分别和每个 verifier 做交互来证明一个陈述（就是例子中指的多项式的知识）。</p>
<p>尽管交互式证明也有它的用处，例如一个 prover 只想让一个特定的 verifier （称为目标 verifier，更多的信息参见 [<a href="https://medium.com/@imolfar/why-and-how-zk-snark-works-3-non-interactivity-distributed-setup-c0310c0e5d1c#4b56">JSI96</a>] ）确信，就不能再重复利用同一个证明去向别人证明这个声明了，但是当一个 prover 想让众多的参与者同时或者永久地确信的话，这种方法就很低效了。 prover 需要保持一直在线并且对每一个 verifier 执行相同的计算。</p>
<p>因而，<strong>我们就需要一个可以被重复使用，公开，可信，又不会被滥用的秘密参数</strong>。</p>
<p>我们先来思考一下如何在构造出秘密值 (<em>t</em>(<em>s</em>)<em>,α</em>) 构造之后保证它的安全性。我们可以对其进行加密，方式与 verifier 在发送加密值给 prover 之前对 <em>s</em> 的幂使用的加密方式一致。但是 <strong>remark 3.2</strong> 中提到，我们使用的同态加密并不支持两个秘密值相乘，这一点对 <em>t</em>(<em>s</em>) 和 <em>h</em> 的加密值相乘以及 <em>p</em> 和 <em>α</em> 的加密值相乘的验证都很重要。这个问题适合用Pairing配对操作来解决。</p>
<blockquote>
<p>even@安比实验室:这里非交互的证明协议将对参数加密，但引入了两个问题：</p>
<p>1）同态加密无法对两个加密值做乘法，那如何验证加密后的参数呢？</p>
<p>2）加密值一旦泄露，协议的信任关系将无法保证，如何确保参数的安全性？</p>
</blockquote>
<h3 id="加密值的相乘">加密值的相乘</h3>
<p>配对操作（双线性映射）是一个数学结构，表示为函数 <em>e(g,g)</em>，它给定一个数据集中的两个加密的输入（即 <em>g<sup>a</sup>, g<sup>b</sup></em> ），可以将他们确定性地映射到另一组不同的输出数据集上的它们的乘积，即 <em>e(g<sup>a</sup>, g<sup>b</sup>) = e(g, g)<sup>ab</sup></em>：</p>
<p><img src="./img/2/1*0Qnz6c35UV1bv7uk620qrw.png" /></p>
<p>因为源数据集和输出数据集（通常被称为一个 group）是不同的，所以一个配对的结果不能用做其他配对计算的输入。我们可以将输出集（也称为“目标集”）视为“不同的宇宙”。因而我们不能用另一个加密值乘以结果，而且配对这个名称本身也表明了，我们一次只能将两个加密值相乘。</p>
<blockquote>
<p>even@安比实验室: 换句话说，配对只支持 x * y 这种两个值的乘法，但不支持三个或以上的值相乘，比如不支持 x * y * z。</p>
</blockquote>
<p>在某种意义上，这个类似于一个哈希函数，他将所有可能的输入值映射到可能的输出值的集合中的一个元素上，通常情况下这个过程是不可逆的。</p>
<p><em>注意：乍一眼看过去，这个限制可能会阻碍相关功能的实现，但在 zk-SNARK 中这反而是保证安全模式的最重要性质，参见 <strong>remark 3.3</strong>。</em></p>
<p>配对函数 <em>e</em>(<em>g</em>,<em>g</em>) 可以初步（严格来说是不对的）地类比成“交换”每一个输出的基数和指数的操作，使得基数 <em>g</em> 在交换过程中被修改成了指数的方式，即 <em>g<sup>a</sup> → a<sup>g</sup></em> 。“被转换”的两个输入一起被修改了，这样原始值 <em>a</em> 和 <em>b</em> 就在同一个指数下相乘了，即：</p>
<p><span class="math inline">\(e(g^a,g^b) =a^g \cdot b^g =(ab)^g\)</span></p>
<p>因而因为基数在“转换”中被修改了，所以在另一个配对中不能再使用这个结果 (<em>ab</em>)<strong>ᵍ</strong> （即：<em>e</em>((<em>ab</em>)<em>ᵍ</em>, g<em>ᵈ</em>)）构造出想要的加密乘积 <em>abd</em> 了。配对的核心性质可以表示成下面的等式：</p>
<p><span class="math inline">\(e(g^a,g^b) =r(g^b,g^a)=e(g^{ab},g^1)=e(g^1,g^{ab}) =e(g^1,g^a)^b =e(g^1,g^1)^{ab}\)</span></p>
<p>严格来讲一个配对的结果是在目标集的一个不同生成元 <em>g</em> 下对原始值乘积的加密，即 <em>e</em>(<em>g</em>ᵃ, <em>g</em> <em>ᵇ</em>) = <em>gᵃᵇ</em>。因而它具备同态加密的性质，也就是说我们可以把乘法配对的加密乘积放到一起：</p>
<p><span class="math inline">\(e(g^a,g^b) \cdot e(g^c, g^d) = g^{ab} \cdot g^{cd} =g^{ab+cd} =r(g,g)^{ab+cd}\)</span></p>
<blockquote>
<p>注意：配对操作是通过改变椭圆曲线来实现这些性质的，现在我们用的符号 gⁿ 就代表曲线上一个由生成元自相加了 n 次的点，而不是我们前面用到的乘法群生成元。</p>
</blockquote>
<p>[<a href="https://medium.com/@imolfar/why-and-how-zk-snark-works-3-non-interactivity-distributed-setup-c0310c0e5d1c#0ea5">DBS04</a>] 这个综述提供了学习配对的出发点。</p>
<h3 id="可信任参与方的-setup">可信任参与方的 Setup</h3>
<p>有了配对，我们现在就准备去设置安全公开且可复用的参数了。假定一下我们让一个诚实的参与方来生成秘密值 <em>s</em> 和 <em>α</em>。只有 <em>α</em> 和所有必要的 <em>s</em> 的幂及其对应的 <em>α</em>-变换被加密了，那么原始数据就必须要被删除（ i 为 0，1,…,d ）：</p>
<p><span class="math inline">\(g^α，g^{s^i}，g^{αs^i}\)</span></p>
<p>这些参数通常被称为 <em>common reference string</em> 或者 CRS。CRS 生成后，任何的 prover 和任何的 verifier 都可以使用它来构造非交互式的零知识证明协议。CRS 的优化版本将包含目标多项式的加密值 <span class="math inline">\(g^{t(s)}\)</span>，尽管这个值并不重要。</p>
<p>把 CRS 分成两组（ i 为 0，1,…,d ）：</p>
<ul>
<li><em>proving key</em>（也被称为 <em>evaluation key</em>）：<span class="math inline">\((g^{s^i},g^{αs^i})\)</span></li>
<li><em>verification key</em>：<span class="math inline">\((g^{t(s)},g^α)\)</span></li>
</ul>
<p>只要能够乘以加密值，verifier 就可以在协议的最后一步验证多项式了：</p>
<ul>
<li><p>有了verification key，verifier 就可以处理从 prover 那里得到的加密多项式的值 <span class="math inline">\(g^p\)</span>，<span class="math inline">\(g^h\)</span>，<span class="math inline">\(g^{p&#39;}\)</span>：</p>
<ul>
<li><p>在加密空间中校验 <em>p = t·h</em>：</p>
<p><span class="math inline">\(e(g^p,g^1) = e(g^t,g^h)\)</span></p></li>
<li><p>校验多项式的限制：</p>
<p><span class="math inline">\(e(g^p,g^α) = e(g^{p&#39;},g)\)</span></p></li>
</ul></li>
</ul>
<h3 id="信任任意一个参与者">信任任意一个参与者</h3>
<p>尽管受信任设置很有效率，但众多 CRS 用户也必须要相信生成者确实删除了 α 和 s ，这一点没有办法证明（<em>proof of ignorance</em> 是一个正在积极研究的领域 [<a href="https://medium.com/@imolfar/why-and-how-zk-snark-works-3-non-interactivity-distributed-setup-c0310c0e5d1c#2823">DK18</a>]），所以这种方法依然是无效的。因而很有必要去最小化或者消除这种信任。否则一个不诚实的参与方就可以构造假证明而不被发现。</p>
<p>一种解决办法就是由多个参与方使用前面小节中介绍的数学工具来生成一个组合式CRS，这样这些参与方就都不知道「秘密」了。下面是一个实现方案，我们假设有三个参与者 Alice，Bob 和 Carol ，对应为 A，B 和 C，其中 i为 1, 2, …, d：</p>
<ul>
<li><p>Alice 选择随机数 <span class="math inline">\(s_A\)</span> 和 <span class="math inline">\(α_A\)</span>，然后公开她的 CRS：</p>
<p><span class="math inline">\((g^{s^i_A}，g^{α_A}，g^{α_As^i_A})\)</span></p></li>
<li><p>Bob 选择他的随机数 <span class="math inline">\(s_B\)</span> 和 <span class="math inline">\(α_B\)</span>，然后通过同态乘法结合 Alice 的 CRS：</p>
<p><span class="math inline">\(((g^{s_A^i})^{s_B^i},(g^{α_{A}})^{α_B},(g^{α_As_A^i})^{α_Bs_B^i}) = (g^{(s_As_B)^i},g^{α_Aα_B},g^{α_Aα_B(s_As_B)^i})\)</span></p>
<p>然后公开两方 Alice-Bob 的 CRS 结果：</p>
<p><span class="math inline">\((g^{s^i_{AB}},g^{α_{AB}},g^{α_{AB}s^i_{AB}})\)</span></p></li>
<li><p>Carol 用她的随机数 <span class="math inline">\(s_C\)</span> 和 <span class="math inline">\(α_C\)</span> 做同样的事：</p>
<p><span class="math inline">\(((g^{s^i_{AB}})^{s^i_C},(g^{α_{AB}})^{α_C},(g^{α_{AB}s^i_{AB}})^{α_Cs^i_C}) = (g^{(s_As_Bs_C)^i},g^{α_Aα_Bα_C},g^{α_Aα_Bα_C(s_As_Bs_C)^i})\)</span></p>
<p>然后公开 Alice-Bob-Carol 的 CRS:</p>
<p><span class="math inline">\((g^{s^i_{ABC}},g^{α_{ABC}},g^{α_{ABC}s^i_{ABC}})\)</span></p></li>
</ul>
<p>这个协议最后我们就获得了一个混合的 <em>sⁱ</em> 和 <em>α</em>：</p>
<p><span class="math inline">\(s^i=s^i_As^i_Bs^i_C, α=α_Aα_Bα_C\)</span></p>
<p>除非他们串谋，否则参与者们互相之间并不知道其他人的秘密参数。实际上，一个参与者必须要和其它所有的参与者串谋才能得到 <em>s</em> 和 <em>α</em>，这样在所有的参与者中只要有一个是诚实的，就没有办法伪造证明。</p>
<blockquote>
<p>注意：这个过程可以被尽可能多的参与者重复完成</p>
</blockquote>
<p>有一个问题是如何验证参与者在生成 CRS 时用的随机数值是一致的，因为攻击者可以生成多个不同的随机数 <em>s</em>₁<em>, s</em>₂<em>, …</em> 和 <em>α</em>₁<em>, α</em>₂<em>, …</em>,，然后代入这些不同的随机数去执行 <em>s</em> 的不同次幂计算（或提供随机数作为一个 CRS 的扩充），从而使 CRS 无效或者不可用。</p>
<p>庆幸的是，因为我们可以使用配对来乘以加密值，所以我们就可以从第一个参数开始逐一执行一致性校验，并且确保了每个参数都源于前一个。</p>
<ul>
<li><p>我们用 s 的 1 次幂作为标准来校验每一个其它次幂的值与之是否保持一致</p>
<p><span class="math inline">\(e(g^{s^i},g) = e(g^{s^1},g^{s^{i-1}})|_{i\in{2,……,d}}\)</span></p>
<p>例如：</p>
<ul>
<li>2 次幂：<span class="math inline">\(e(g^{s^2},g) = e(g^{s^1},g^{s^1}) =&gt; e(g,g)^{s^2} = e(g,g)^{s^{1+1}}\)</span></li>
<li>3 次幂：<span class="math inline">\(e(g^{s^3},g) = e(g^{s^1},g^{s^2}) =&gt; e(g,g)^{s^3} = e(g,g)^{s^{1+2}}\)</span>，等</li>
</ul></li>
<li><p>我们现在再验证一下前面步骤中 α-变换后的值是否正确：</p>
<p><span class="math inline">\(e(g^{s^i},g^α) = e(g^{αs^i},g)|_{i\in[d]}\)</span></p>
<p>例如：</p>
<ul>
<li>3 次幂：<span class="math inline">\(e(g^{s^3},g^α) = e(g^{αs^3,g}) =&gt; e(g,g)^{s^3 \cdot α} = e(g,g)^{αs^3}\)</span>，等。</li>
</ul></li>
</ul>
<p>这里 <span class="math inline">\(i \in \{2,……,d\}\)</span> 是“<em>i</em> 值分别为 2，3，…，d” 的缩写， [<em>d</em>] 是 <em>1</em>, <em>2</em>, …, <em>d</em> 这个范围的缩写形式，在后面的章节这种表示方式更为常见。</p>
<p>当我们在验证每一个参与者秘密参数的一致性时，要注意参与者生成 CRS 的过程并没有强制后一个参与者（就是我们例子中的 Bob 和 Carol）都要使用前面已经公开的 CRS。因而如果一个攻击者是链上的最后一个参与者，他可以像链上的第一个参与者一样忽略前面的 CRS 随便构造一个有效的 CRS，这样他就变成了唯一一个知道秘密 <em>s</em> 和 <em>α</em> 的人。</p>
<p>为了解决这个问题，我们可以额外再要求除了第一个以外的每一个参与者去加密然后公开他的参数。例如，Bob 同样公开了：</p>
<p><span class="math inline">\((g^{s^i_B},g^{α_B},g^{α_Bs^i_B})|_{i\in[d]}\)</span></p>
<p>这就可以去验证 Bob 的 CRS 是乘以了 Alice 的参数后正常获得的，这里 i 为 <em>1</em>, <em>2</em>,…, <em>d</em>。</p>
<ul>
<li><span class="math inline">\(e(g^{s^i_{AB}},g) = e(g^{s^i_A},g^{s^i_B})\)</span></li>
<li><span class="math inline">\(e(g^{α_{AB}},g) = e(g^{α_A},g^{a_B})\)</span></li>
<li><span class="math inline">\(e(g^{α_{AB}s^i_{AB}},g) = e(g^{α_As^i_A},g^{α_Bs^i_B})\)</span></li>
</ul>
<p>同样的，Carol 也必须证明她的 CRS 是乘以了 Alice-Bob 的 CRS 后正常获得的。</p>
<p>这是一个健壮的 CRS 设置模式，它并不完全依赖于单个参与者。事实上，即使其它所有的参与者都串谋了，只要有一个参与者是诚实的，他能够删除并且永远不共享它的秘密参数，这个 CRS 就是有效的。所以在设置 CRS （有时候被称为仪式 [<a href="https://medium.com/@imolfar/why-and-how-zk-snark-works-3-non-interactivity-distributed-setup-c0310c0e5d1c#191c">Wil16</a>]）的时候有越多不相关的参与者参与，伪造证明的可能性就越低。当有相互竞争的参与方参与的时候，就几乎不可能伪造证明了。这种模式能够包容其他一些怀疑这种 setup 可识别性的不受信方因为校验步骤确保了他们不会破坏（这里也包括很弱的 <em>α</em> 和 <em>s</em> 的使用）最终的 CRS。</p>
<p>&gt;even@安比实验室: 现在有一些zkSNARK方案支持可升级的 CRS，任何怀疑CRS的参与方都可以对CRS 进行更新。此外还有一些 zkSNARK方案支持 Universal CRS，用不着对每一个电路进行受信任设置，而是只需要全局完成一次即可。除此之外，大量无需 Trusted Setup 的方案正在被充分研究。</p>
<p>##多项式的 SNARK</p>
<p>我们现在准备来合并这个逐步演化出来的 <em>zk-SNARKOP</em> 协议。为简洁起见，我们将使用大括号来表示由旁边的下标填充的一组元素，例如：</p>
<p><span class="math inline">\(\{s^i\}_{i\in[d]}\)</span></p>
<p>表示一组数 s<sup>1</sup>，s<sup>2</sup>， …， <em>s<sup>d</sup></em> 。我们已经明确目标多项式 <em>t(x)</em> 和 prover 的多项式阶数 <em>d</em>：</p>
<ul>
<li>Setup
<ul>
<li>挑选随机值 <em>s</em>，<em>α</em></li>
<li>计算加密值 <span class="math inline">\(g^α\)</span> 和 <span class="math inline">\(\{g^{s^i}\}_{i\in[d]}\)</span>，<span class="math inline">\(\{g^{αs^i}\}_{i\in\{0,…,d\}}\)</span></li>
<li>生成 <em>proving key</em>：<span class="math inline">\((\{g^{s^i}\}_{i\in[d]},\{g^{αs^i}\}_{i\in\{0,…,d\}})\)</span></li>
<li>生成 <em>verification key</em>: <span class="math inline">\((g^α，g^{t(s)})\)</span></li>
</ul></li>
<li>Proving
<ul>
<li>分配系数 <span class="math inline">\(\{c_i\}_{i\in\{0,…,d\}}\)</span> (即知识)得 <span class="math inline">\(p(x) = c_dx^d +…+ c_1x^1 + c_0x^0\)</span></li>
<li>求多项式 <span class="math inline">\(h(x) = p(x)/t(x)\)</span></li>
<li>代入 <span class="math inline">\(\{g^{s^i}\}_{i\in[d]}\)</span> 计算多项式 <span class="math inline">\(g^{p(s)}\)</span> 和 <span class="math inline">\(g^{h(s)}\)</span> 的值</li>
<li>代入 <span class="math inline">\(\{g^{αs^i}\}_{i\in[d]}\)</span> 计算变换多项式 <span class="math inline">\(g^{αp(s)}\)</span> 的值</li>
<li>选择随机数 <em>δ</em></li>
<li>构造随机化的证明 <span class="math inline">\(π = (g^{δp(s)},g^{δh(s)},g^{δαp(s)})\)</span></li>
</ul></li>
<li>verification
<ul>
<li>映射证明 <em>π</em> 为 <span class="math inline">\((g^p,g^h,g^{p&#39;})\)</span></li>
<li>验证多项式约束：<span class="math inline">\(e(g^{p&#39;},g) = e(g^p,g^α)\)</span></li>
<li>验证多项式系数：<span class="math inline">\(e(g^p,g) = e(g^{t(s)},g^h)\)</span></li>
</ul></li>
</ul>
<p><strong>Remark 3.3</strong> 如果 pairing 的结果有可能在其它类似的乘法协议中被复用，那么这里就完全没有安全性可言了，因为这样的话 prover 就可以构造</p>
<p><span class="math inline">\(g^{p&#39;} = e(g^p,g^α)\)</span></p>
<p>这样也可以通过“多项式约束”的检查：</p>
<p><span class="math inline">\(e(e(g^p,g^α)，g) = e(g^p,g^α)\)</span></p>
<h2 id="结论">结论</h2>
<p>我们用 zk-SNARK 协议来解决多项式问题的知识，不过这是一个有局限的例子。因为大家可以说 prover 只要用另外一个有界的多项式去乘以 t(x) 就可以很容易得构造出一个能够通过测试的多项式 <em>p</em>(<em>x</em>) ，并且这种结构也是有效的。</p>
<p>verifier <em>知道</em> prover 有一个有效的多项式，但是并不知道是哪一个。我们可以利用多项式的其他性质添加额外的证明，如<strong>:</strong>被多个多项式整除，是某个多项式的平方。虽然可能会有一个服务能够接受，存储和奖励所有经过证明的多项式，或者有一个需求，加密计算某种形式的未知多项式。然而若有通用方案就可以支撑无数的应用。</p>
<blockquote>
<p>even@安比实验室:总结一下这篇文章中一步一步解决了下面的几个问题：</p>
<p>保证 prover 的证明是按照规则正确构造的 ——&gt; KEA</p>
<p>保证知识的零知性 ——&gt; “无成本的”δ 变换</p>
<p>可复用证明 ——&gt; 非交互式</p>
<p>非交互中如何设置安全公开且可复用的参数 ——&gt; 参数加密，verifier 借助密码配对进行验证</p>
<p>保证参数的生成者不泄密 ——&gt; 多方的 Setup</p>
<p>至此，一个用来证明多项式知识的完整的 zk-SNARK 协议就构造出来了，不过现在的协议在通用性上依然还有很多限制，后面的文章将继续介绍如何构造通用的 zk-SNARK。</p>
</blockquote>
<p><strong>原文链接</strong></p>
<p>https://arxiv.org/pdf/1906.07221.pdf</p>
<p>https://medium.com/<span class="citation" data-cites="imolfar/why-and-how-zk-snark-works-2-proving-knowledge-of-a-polynomial-f817760e2805">@imolfar/why-and-how-zk-snark-works-2-proving-knowledge-of-a-polynomial-f817760e2805</span></p>
<p>https://medium.com/<span class="citation" data-cites="imolfar/why-and-how-zk-snark-works-3-non-interactivity-distributed-setup-c0310c0e5d1c">@imolfar/why-and-how-zk-snark-works-3-non-interactivity-distributed-setup-c0310c0e5d1c</span></p>
<p><strong>参考文献</strong></p>
<p>[Dam91] — Ivan Damgård. “Towards practical public key systems secure against chosen ciphertext attacks”. In: <em>Annual International Cryptology Conference</em>. Springer. 1991, pp. 445–456.</p>
<p>[Gro10] — Jens Groth. “Short pairing-based non-interactive zero-knowledge arguments”. In: <em>International Conference on the Theory and Application of Cryptology and</em> <em>Information Security</em>. Springer. 2010, pp. 321–340.</p>
<p>[JSI96] — Markus Jakobsson, Kazue Sako, and Russell Impagliazzo. “Designated verifier proofs and their applications”. In: <em>International Conference on the Theory and Applications</em> <em>of Cryptographic Techniques</em>. Springer. 1996, pp. 143–154.</p>
<p>[DBS04] — Ratna Dutta, Rana Barua, and Palash Sarkar. <em>Pairing-Based Cryptographic Protocols: A Survey</em>. Cryptology ePrint Archive, Report 2004/064. https://eprint.iacr.org/2004/064. 2004.</p>
<p>[DK18] — Apoorvaa Deshpande and Yael Kalai. <em>Proofs of Ignorance and Applications</em> <em>to 2-Message Witness Hiding</em>. Cryptology ePrint Archive, Report 2018/896. https://eprint.iacr.org/2018/896. 2018.</p>
<p>[Wil16] — Zooko Wilcox. <em>The Design of the Ceremony</em>. 2016. url: https://z.cash/blog/the-design-of-the-ceremony/</p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Maksym Petkus，翻译 & 注解：even@安比实验室（even@secbit.io）</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2020-03-24
      
        <a href="https://github.com/sec-bit/blog/commit/93da707fc3904c4d5aaf32fa530b52df3597519d" title="add learn zkSNARK from 0 p2">
          (93da707)
        </a>
        
          <br>add learn zkSNARK from 0 p2
        
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content">如需转载请注明文章作者和出处。</span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://sec-bit.github.io/blog/tags/zero-knowledge-proof/">Zero Knowledge Proof</a>
          <a href="https://sec-bit.github.io/blog/tags/tutorials/">tutorials</a>
          <a href="https://sec-bit.github.io/blog/tags/zksnarks/">zkSNARKs</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/blog/2020/01/03/zkp-learn-by-coding-libsnark-101/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">零知识证明 Learn by Coding：libsnark 入门篇</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/blog/2019/12/25/learn-zk-snark-from-zero-part-one/">
            <span class="next-text nav-default">从零开始学习 zk-SNARK（一）——多项式的性质与证明</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "sec-bit/comments-for-secbit-blog"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:hi@secbit.io" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://twitter.com/SECBIT_IO" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="https://github.com/sec-bit" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/org/secbit/" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="https://sec-bit.github.io/blog/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2018 -
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        SECBIT Labs
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/blog/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/blog/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/blog/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"
    integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG"
    crossorigin="anonymous">

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js"
    integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1"
    crossorigin="anonymous"></script>

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js"
    integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
    crossorigin="anonymous" onload="renderMathInElement(document.body);">
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        
      });
    });
  </script>






  
    <script type="text/javascript" src="/blog/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/blog/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/blog/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











  <script>
    $("#openSearch, #openSearchMobile").click(function(){
      $(".modal-dialog").addClass("visible");
    });

    $("#closeSearch").click(function(){
      $(".modal-dialog").removeClass("visible");
    });

    $(document).click(function(event) {
    
      if (!$(event.target).closest(".modal-content, #openSearch, #openSearchMobile").length) {
        $("body").find(".modal-dialog").removeClass("visible");
      }
    });
  </script>





</body>
</html>
